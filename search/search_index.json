{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u524d\u8a00","text":"<p>2024 and onwards \u00a9 Weizhong Yang a.k.a zonble</p> <p></p> <p>\u9019\u5e7e\u5e74\u8a9e\u97f3\u52a9\u7406\u61c9\u7528\u4ee5\u5404\u7a2e\u65b9\u5f0f\u8d70\u5165\u4e86\u6bcf\u500b\u4eba\u7684\u751f\u6d3b\u3002\u860b\u679c\u5728 iPhone 4 \u4e4b\u5f8c\u52a0\u5165\u4e86 Siri \u529f\u80fd\uff0c\u4e5f\u61c9\u7528\u5728 Apple TV\u3001HomePod \u7b49\u7522\u54c1\u4e0a\uff0cAmazon \u6253\u9020\u4e86 Alexa \u667a\u6167\u5587\u53ed\uff0cGoogle \u5247\u5728 Android \u624b\u6a5f\u8207 Google Nest \u7b49\u88dd\u7f6e\u4e0a\u52a0\u5165\u4e86 Google Assistant \u529f\u80fd\uff0c\u4e4b\u5f8c\u53c8\u6709\u66f4\u591a\u7684\u667a\u6167\u5587\u53ed\u4ee5\u53ca\u8eca\u8f09\u8a9e\u97f3\u7522\u54c1\u3002\u9019\u4e9b\u8a9e\u97f3\u52a9\u7406\u7684\u529f\u80fd\u4e0d\u50c5\u50c5\u662f\u56de\u7b54\u554f\u984c\uff0c\u9084\u80fd\u5920\u63a7\u5236\u5bb6\u96fb\u3001\u64ad\u653e\u97f3\u6a02\u3001\u8a2d\u5b9a\u9b27\u9418\u7b49\u7b49\u3002</p> <p>\u6211\u5011\u53ef\u4ee5\u6ce8\u610f\u5230\uff0c\u9019\u4e9b\u8a9e\u97f3\u52a9\u7406\u6709\u4e00\u500b\u5171\u540c\u7684\u7279\u8272\uff0c\u5c31\u662f\u4ed6\u5011\u90fd\u6709\u81ea\u5df1\u7684\u751f\u614b\u7cfb\u7d71\u3002\u9019\u4e9b\u8a9e\u97f3\u52a9\u7406\u9996\u5148\u4e32\u63a5\u7684\u662f\u81ea\u5bb6\u7684\u670d\u52d9\uff0c\u800c\u5e7e\u4e4e\u6bcf\u5bb6\u90fd\u6709\u81ea\u5df1\u7684\u97f3\u6a02\u3001\u5730\u5716\u5c0e\u822a\u7b49\u3002\u860b\u679c\u5c31\u6709\u81ea\u5bb6\u7684 Apple Music\u3001Amazon \u4e5f\u6709\u81ea\u5df1\u7684 Prime Music\u3001Google \u5247\u6709 YouTube Music\uff1b\u5730\u5716\u65b9\u9762\uff0c\u860b\u679c\u4e00\u958b\u59cb\u8207 Google \u5408\u4f5c\u4f7f\u7528 Google Maps\uff0c\u5f8c\u4f86\u4e5f\u958b\u767c\u4e86\u81ea\u5bb6\u7684 Apple Maps\u3002\u6216\u8457\uff0c\u5c31\u662f\u8207\u4e00\u4e9b\u6700\u5927\u7684\u97f3\u6a02\u3001\u6c23\u8c61\u3001\u65b0\u805e\u7b49\u670d\u52d9\u5408\u4f5c\uff0c\u50cf\u662f Spotify\u3001Weather.com \u7b49\u7b49\u3002</p> <p>\u70ba\u4e86\u64f4\u5927\u751f\u614b\u5708\uff0c\u7b2c\u4e09\u65b9\u958b\u767c\u8005\u4e5f\u53ef\u4ee5\u70ba\u9019\u4e9b\u8a9e\u97f3\u52a9\u7406\u958b\u767c\u81ea\u5df1\u7684\u670d\u52d9\uff0c\u50cf\u662f iOS App \u7684\u958b\u767c\u8005\u53ef\u4ee5\u900f\u904eSiriKit\uff0c\u70ba Siri \u589e\u52a0\u529f\u80fd\uff0c\u8b93 Siri \u53ef\u4ee5\u4e32\u63a5\u5230 App \u7684\u529f\u80fd\u3002Amazon \u5247\u63d0\u4f9b\u4e86 Amazon \u5247\u4f7f\u7528 Alexa Skills\uff0cGoogle \u5247\u4f7f\u7528 Actions on Google \u4f86\u4e32\u63a5\u5404\u7a2e\u7b2c\u4e09\u65b9\u670d\u52d9\u3002\u800c\u7531\u65bc\u9019\u4e9b\u8a9e\u97f3\u52a9\u7406\u90fd\u662f\u5927\u773e\u5c0e\u5411\u7684\u7522\u54c1\uff0c\u5927\u591a\u5efa\u7acb\u5728\u9019\u4e9b\u5e73\u53f0\u4e0a\u7684\u670d\u52d9\uff0c\u4e5f\u5f80\u5f80\u662f\u5927\u773e\u5c0e\u5411\u7684\u670d\u52d9\uff0c\u6211\u5011\u9084\u662f\u8f03\u5c11\u80fd\u770b\u5230\u5728\u4e00\u4e9b\u5167\u90e8\u3001\u6216\u662f\u5c08\u5c6c\u7684\u7cfb\u7d71\u4e0a\uff0c\u4f7f\u7528\u8a9e\u97f3\u52a9\u7406\u6280\u8853\u6216\u529f\u80fd\u3002</p> <p>\u9019\u5e7e\u5e74\u4e5f\u9678\u7e8c\u770b\u5230\u4e00\u4e9b\u5e97\u5bb6\u958b\u59cb\u5728\u5c08\u5c6c\u7684\u670d\u52d9\u4e0a\u63d0\u4f9b\u8a9e\u97f3\u52a9\u7406\u529f\u80fd\uff0c\u50cf\u662f\u9910\u98f2\u5e97\u4e5f\u958b\u59cb\u63d0\u4f9b\u8a9e\u97f3\u9ede\u9910\u7b49\uff0c\u5ba2\u6236\u5728\u96fb\u5bb6\u9580\u53e3\u7684 Kiosk \u6a5f\u53f0\uff0c\u5c31\u53ef\u4ee5\u7528\u8a9e\u97f3\u5b8c\u6210\u9ede\u9910\u7b49\u3002\u4f46\u5373\u4f7f\u5982\u6b64\uff0c\u6211\u5011\u9084\u662f\u53ef\u4ee5\u671f\u5f85\uff0c\u8a9e\u97f3\u52a9\u7406\u53ef\u4ee5\u61c9\u7528\u5728\u66f4\u591a\u884c\u696d\u4e2d\u3001\u66f4\u591a\u7cfb\u7d71\u4e0a\u3002</p> <p>\u8a9e\u97f3\u52a9\u7406\u6700\u9069\u5408\u7684\u5834\u5408\u5927\u6982\u662f\uff0c\u7576\u4f7f\u7528\u8005\u4e0d\u65b9\u4fbf\u632a\u51fa\u96d9\u624b\u64cd\u4f5c\uff0c\u7136\u5f8c\u53c8\u6709\u660e\u78ba\u76ee\u6a19\uff0c\u7528\u8a9e\u97f3\u6bd4\u4f7f\u7528\u624b\u6307\u6216\u9375\u76e4\u6ed1\u9f20\u6162\u6162\u9078\u64c7\u6709\u6548\u7387\u6642\uff0c\u800c\u4e14\u901a\u5e38\u6703\u7528\u5728\u6bd4\u8f03\u79c1\u5bc6\u3001\u500b\u4eba\u7684\u5834\u5408\uff0c\u50cf\u6211\u5011\u5927\u6982\u5c31\u4e0d\u6703\u5728\u516c\u5171\u5834\u5408\u5927\u8072\u53eb Siri \u5e6b\u6211\u5011\u67e5\u8a62\u4e00\u4e9b\u79c1\u4eba\u8cc7\u8a0a\u3002\u6240\u4ee5\u6211\u5011\u5f80\u5f80\u6703\u5728\u99d5\u8eca\u6642\u8acb\u8a9e\u97f3\u52a9\u7406\u5354\u52a9\u5c0e\u822a\uff0c\u5728\u5bb6\u4e2d\u4f7f\u7528\u667a\u6167\u5587\u53ed\uff0c\u4ee5\u53ca\u5728\u904b\u52d5\u3001\u6162\u8dd1\u6642\u4f7f\u7528\u8033\u6a5f\u4e0a\u7684\u8a9e\u97f3\u52a9\u7406\uff1b\u53e6\u4e00\u65b9\u9762\uff0c\u53c8\u5c0d\u5468\u570d\u74b0\u5883\u6709\u4e00\u5b9a\u7684\u8981\u6c42\uff0c\u5468\u570d\u5982\u679c\u592a\u904e\u5435\u96dc\uff0c\u5f80\u5f80\u5f71\u97ff\u9304\u97f3\u4ee5\u53ca\u8a9e\u97f3\u8fa8\u8b58\u7684\u6548\u679c\u3002</p> <p>\u6211\u5011\u6216\u8a31\u53ef\u4ee5\u60f3\u50cf\uff0c\u5728\u91ab\u9662\u3001\u75c5\u623f\u7576\u4e2d\uff0c\u75c5\u5e8a\u5e8a\u982d\u53ef\u80fd\u64fa\u4e86\u53f0\u5e73\u677f\uff0c\u91ab\u8b77\u4eba\u54e1\u6216\u662f\u75c5\u4eba\u53ef\u4ee5\u5feb\u901f\u4f7f\u7528\u8a9e\u97f3\u547d\u4ee4\uff0c\u5b8c\u6210\u4e00\u4e9b\u5de5\u4f5c\u6216\u662f\u67e5\u8a62\u8cc7\u6599\uff0c\u800c\u4e0d\u7528\u653e\u958b\u624b\u908a\u7684\u5de5\u4f5c\uff0c\u6216\u662f\u96e2\u958b\u75c5\u5e8a\u3002\u525b\u751f\u5b8c\u5bf6\u5bf6\u7684\u6bcd\u89aa\u53ef\u4ee5\u7528\u8a9e\u97f3\u547d\u4ee4\uff0c\u5feb\u901f\u67e5\u770b\u5bf6\u5bf6\u7684\u5f71\u50cf\u3002\u4f46\u524d\u63d0\u662f\uff0c\u8a9e\u97f3\u52a9\u7406\u8981\u80fd\u5920\u9023\u63a5\u91ab\u9662\u7684\u7cfb\u7d71\uff0c\u4f46\u76ee\u524d\u90fd\u9084\u76f8\u7576\u6b20\u7f3a\u9019\u985e\u578b\u7684\u61c9\u7528\u3002</p> <p>\u4ee5\u4e0b\u5c31\u662f\u4e00\u500b\u4f7f\u7528 Flutter Web \u6280\u8853\u958b\u767c\uff0c\u904b\u4f5c\u5728 Chrome \u700f\u89bd\u5668\u7576\u4e2d\u7684\u8a9e\u97f3\u639b\u865f\u7684\u529f\u80fd\u5c55\u793a\uff1a</p>    \u5728 PDF \u6a94\u6848\u4e2d\uff0c\u7121\u6cd5\u5448\u73fe\u5f71\u7247\uff0c\u8acb\u4e0b\u8f09 MP4 \u5f71\u7247\u3002  <p>\u96a8\u8457\u9019\u5e7e\u5e74 Flutter \u61c9\u7528\u7a0b\u5f0f\u7684\u958b\u767c\u6846\u67b6\u6108\u4f86\u6108\u6210\u719f\uff0c\u52a0\u4e0a\u5927\u578b\u8a9e\u8a00\u6a21\u578b\uff08LLM\uff09\u4e5f\u5feb\u901f\u666e\u53ca\uff0c\u7d50\u5408\u9019\u5169\u8005\uff0c\u5176\u5be6\u5c31\u53ef\u4ee5\u53ea\u5beb\u5927\u7d04\u5e7e\u767e\u884c\u7684 Dart \u7a0b\u5f0f\uff0c\u5c31\u80fd\u5920\u5feb\u901f\u6253\u9020\u8de8\u5e73\u53f0\u7684\u8a9e\u97f3\u52a9\u7406\u3002\u5728\u9019\u672c\u5c0f\u518a\u5b50\u4e2d\uff0c\u6703\u63d0\u5230:</p> <ul> <li>\u6253\u9020\u8a9e\u97f3\u52a9\u7406\u9700\u8981\u54ea\u4e9b\u5143\u4ef6</li> <li>\u9019\u4e9b\u5143\u4ef6\u6709\u54ea\u4e9b\u53ef\u7528\u7684 Flutter \u5957\u4ef6</li> <li>\u5982\u4f55\u4e32\u63a5\u9019\u4e9b\u5143\u4ef6\uff0c\u6210\u70ba\u5b8c\u6574\u7684\u8a9e\u97f3\u52a9\u7406</li> <li>\u5982\u4f55\u8a2d\u8a08\u8a9e\u97f3\u4e92\u52d5\u6d41\u7a0b</li> </ul> <p>\u6211\u9810\u671f\u60a8\u5728\u95b1\u8b80\u9019\u672c\u5c0f\u518a\u5b50\u4e4b\u524d\uff0c\u5177\u5099\u4e00\u5b9a\u7684 Flutter \u61c9\u7528\u7a0b\u5f0f\u7684\u958b\u767c\u57fa\u790e\u8207\u7d93\u9a57\u3002\u9019\u672c\u5c0f\u518a\u5b50\u653e\u5728 Github \u4e0a\uff0c\u5982\u679c\u60a8\u767c\u73fe\u932f\u6f0f\uff0c\u53ef\u4ee5\u76f4\u63a5\u5728 Github \u4e0a\u767c PR \u4fee\u6b63\uff0c\u6216\u662f\u5728 Github \u4e0a\u958b Issue \u8a0e\u8ad6\u3002\u56e0\u70ba\u5167\u5bb9\u4e5f\u662f\u4ee5 Git \u7ba1\u7406\uff0c\u56e0\u6b64\u4e0d\u984d\u5916\u63d0\u4f9b\u7248\u672c\u6b77\u53f2\u3002</p> <p>\u9019\u672c\u5c0f\u518a\u5b50\u7576\u4e2d\u7684\u7a0b\u5f0f\u78bc\uff0c\u4e5f\u53ef\u4ee5\u5f9e flutter_dialog \u8655\u53d6\u5f97\u3002</p> <p>\u672c\u66f8\u5167\u5bb9\u4ee5 CC BY-SA 4.0 \u6388\u6b0a\u689d\u6b3e\u91cb\u51fa\u3002</p> <p></p>"},{"location":"asr_tts_engine/","title":"\u5be6\u4f5c ASR \u8207 TTS \u5f15\u64ce","text":""},{"location":"asr_tts_engine/#asr","title":"ASR \u5f15\u64ce","text":"<p>\u6211\u5011\u9078\u64c7\u7528 speech_to_text \u5be6\u4f5c\u6211\u5011\u7684 ASR \u5f15\u64ce\u3002\u53ef\u4ee5\u770b\u5230\uff0c\u5176\u5be6\u6211\u5011\u5c31\u53ea\u662f\u7c21\u55ae\u5730\u628a speech_to_text \u5305\u88dd\u4e00\u5c64\u3002\u800c\u4f7f\u7528 speech_to_text \u6642\u8981\u6ce8\u610f\u4e00\u9ede\uff0c\u5c31\u662f <code>cancel()</code> \u8207 <code>stop()</code> \u7684\u5dee\u7570\uff0c\u5169\u8005\u96d6\u7136\u90fd\u6703\u505c\u6b62\u8fa8\u8b58\uff0c\u4f46\u662f <code>stop()</code> \u6703\u628a\u76ee\u524d\u8fa8\u8b58\u4e2d\u7684\u7d50\u679c\u5f37\u5236\u9001\u5230 <code>onResult</code> \u9019\u500b callback \u4e2d\u3002</p> <pre><code>import 'package:speech_to_text/speech_to_text.dart' as stt;\nimport '../interface/asr_engine.dart';\n\nconst _pauseForSeconds = 3;\n\nclass PlatformAsrEngine extends AsrEngine {\n  /// The default locale ID.\n  var _localeId = 'en_US';\n  var _isInitialized = false;\n\n  @override\n  Future&lt;bool&gt; init() async {\n    if (_isInitialized) {\n      return _isInitialized;\n    }\n\n    final speech = stt.SpeechToText();\n\n    _isInitialized = await speech.initialize(\n        onStatus: (status) {\n          final map = {\n            stt.SpeechToText.listeningStatus: AsrEngineState.listening,\n            stt.SpeechToText.notListeningStatus: AsrEngineState.notListening,\n            stt.SpeechToText.doneStatus: AsrEngineState.done,\n          };\n          var state = map[status] ?? AsrEngineState.notListening;\n          onStatusChange?.call(state);\n        },\n        onError: (error) =&gt; onError?.call(error));\n    if (!_isInitialized) {\n      print(\"The user has denied the use of speech recognition.\");\n    }\n    return _isInitialized;\n  }\n\n  @override\n  Future&lt;bool&gt; startRecognition() async {\n    if (!_isInitialized) {\n      return false;\n    }\n    final speech = stt.SpeechToText();\n    speech.listen(\n        pauseFor: const Duration(seconds: _pauseForSeconds),\n        localeId: _localeId,\n        listenOptions: stt.SpeechListenOptions(\n          listenMode: stt.ListenMode.search,\n          partialResults: true,\n          onDevice: false,\n          cancelOnError: true,\n        ),\n        onResult: (result) {\n          final words = result.recognizedWords;\n          final isFinal = result.finalResult;\n          onResult?.call(words, isFinal);\n        });\n    return true;\n  }\n\n  @override\n  Future&lt;bool&gt; stopRecognition() async {\n    if (!_isInitialized) {\n      return false;\n    }\n    final speech = stt.SpeechToText();\n    await speech.cancel();\n    return true;\n  }\n\n  @override\n  Future&lt;void&gt; setLanguage(String language) async {\n    _localeId = language;\n  }\n\n  @override\n  bool get isInitialized =&gt; _isInitialized;\n}\n</code></pre>"},{"location":"asr_tts_engine/#tts","title":"TTS \u5f15\u64ce","text":"<p>\u81f3\u65bc TTS\uff0c\u6211\u5011\u4e5f\u53ea\u662f\u628a flutter_tts \u7c21\u55ae\u5305\u88dd\u4e00\u5c64\u3002\u5728\u9019\u908a\uff0c\u6211\u5011\u5e0c\u671b <code>await playPrompt(prompt)</code> \u7684\u6642\u5019\uff0c\u53ef\u4ee5\u7b49\u6574\u53e5\u8a71\u90fd\u64ad\u653e\u5b8c\u7562\u518d\u57f7\u884c\u4e0b\u4e00\u884c\uff0c\u4f46 flutter_tts \u7684\u884c\u70ba\u4e26\u4e0d\u662f\u9019\u6a23\uff0c\u6240\u4ee5\u984d\u5916\u589e\u52a0\u4e86\u4e00\u500b Completer \u7b49\u5f85\u3002</p> <pre><code>import 'dart:async';\nimport 'package:flutter_tts/flutter_tts.dart';\nimport '../interface/tts_engine.dart';\n\n/// Please refer to https://pub.dev/packages/flutter_tts to update your Android\n/// manifest and iOS configuration.\nclass PlatformTtsEngine extends TtsEngine {\n  final flutterTTs = FlutterTts();\n  Completer? _ttsCompleter;\n\n  PlatformTtsEngine() {\n    flutterTTs.setStartHandler(() {\n      onStart?.call();\n    });\n    flutterTTs.setCompletionHandler(() {\n      _ttsCompleter?.complete();\n      _ttsCompleter = null;\n      onComplete?.call();\n    });\n    flutterTTs.setProgressHandler((text, startOffset, endOffset, word) {\n      onProgress?.call(text, startOffset, endOffset, word);\n    });\n    flutterTTs.setErrorHandler((msg) {\n      _ttsCompleter?.complete();\n      _ttsCompleter = null;\n      onError?.call(msg);\n    });\n    flutterTTs.setCancelHandler(() {\n      _ttsCompleter?.complete();\n      _ttsCompleter = null;\n      onCancel?.call();\n    });\n    flutterTTs.setPauseHandler(() {\n      print('TTS setPauseHandler');\n      onPause?.call();\n    });\n    flutterTTs.setContinueHandler(() {\n      print('TTS setContinueHandler');\n      onContinue?.call();\n    });\n  }\n\n  @override\n  Future&lt;void&gt; playPrompt(String prompt) async {\n    await flutterTTs.speak(prompt);\n    var ttsCompleter = Completer();\n    _ttsCompleter = ttsCompleter;\n    await ttsCompleter.future;\n  }\n\n  @override\n  Future&lt;void&gt; stopPlaying() async {\n    await flutterTTs.stop();\n    _ttsCompleter?.complete();\n    _ttsCompleter = null;\n  }\n\n  @override\n  Future&lt;void&gt; setLanguage(String language) async {\n    await flutterTTs.setLanguage(language);\n  }\n\n  @override\n  Future&lt;void&gt; setPitch(double pitch) async {\n    await flutterTTs.setPitch(pitch);\n  }\n\n  @override\n  Future&lt;void&gt; setSpeechRate(double rate) async {\n    await flutterTTs.setSpeechRate(rate);\n  }\n\n  @override\n  Future&lt;void&gt; setVolume(double volume) async {\n    await flutterTTs.setVolume(volume);\n  }\n\n  @override\n  Future&lt;void&gt; setVoice(Map&lt;String, String&gt; voice) async {\n    flutterTTs.setVoice(voice);\n  }\n}\n</code></pre>"},{"location":"asr_tts_engine/#mock","title":"Mock","text":"<p>\u4e0a\u9762\u7684 ASR \u8207 NLU \u5f15\u64ce\uff0c\u7531\u65bc\u7528\u5230\u4e86\u5e73\u53f0\u7684\u529f\u80fd\uff0c\u6240\u4ee5\u6c92\u8fa6\u6cd5\u5728\u55ae\u5143\u6e2c\u8a66\u4f7f\u7528\u3002\u70ba\u4e86\u6e2c\u8a66\u65b9\u9762\uff0c\u6211\u5011\u53ef\u4ee5\u5be6\u4f5c Mock \u7684 ASR \u8207 NLU \u5f15\u64ce\u3002\u57fa\u672c\u4e0a\u5c31\u662f\u57fa\u65bc <code>AsrEngine</code>\u8207 <code>TtsEngine</code> \u7684\u4ecb\u9762\uff0c\u4f46\u662f\u4e0d\u505a\u4efb\u4f55\u7684\u5be6\u4f5c\u3002</p> <pre><code>import '../interface/asr_engine.dart';\n\n/// A mock ASR (Automatic Speech Recognition) engine for testing.\nclass MockAsrEngine extends AsrEngine {\n  @override\n  Future&lt;bool&gt; init() async {\n    return true;\n  }\n\n  @override\n  bool get isInitialized =&gt; true;\n\n  @override\n  Future&lt;bool&gt; startRecognition() async {\n    return true;\n  }\n\n  @override\n  Future&lt;bool&gt; stopRecognition() async {\n    return true;\n  }\n\n  @override\n  Future&lt;void&gt; setLanguage(String language) async {}\n}\n</code></pre> <pre><code>import '../interface/tts_engine.dart';\n\n/// A mock TTS (Text to Speech) engine for testing.\nclass MockTtsEngine extends TtsEngine {\n  @override\n  Future&lt;void&gt; playPrompt(String prompt) async {\n    print('MockTtsEngine play $prompt');\n    await Future.delayed(const Duration(milliseconds: 200));\n    onComplete?.call();\n  }\n\n  @override\n  Future&lt;void&gt; setLanguage(String language) async {}\n\n  @override\n  Future&lt;void&gt; setPitch(double pitch) async {}\n\n  @override\n  Future&lt;void&gt; setSpeechRate(double rate) async {}\n\n  @override\n  Future&lt;void&gt; setVoice(Map&lt;String, String&gt; voice) async {}\n\n  @override\n  Future&lt;void&gt; setVolume(double volume) async {}\n\n  @override\n  Future&lt;void&gt; stopPlaying() async {\n    onCancel?.call();\n  }\n}\n</code></pre> <p>\u5728\u5f8c\u7e8c\u7ae0\u7bc0\u3008\u5be6\u4f5c\u5b8c\u6574\u7684\u5c0d\u8a71\u5f15\u64ce\u3009\u4e2d\uff0c\u6703\u8aaa\u660e\u5982\u4f55\u4f7f\u7528\u9019\u4e9b Mock \u7684 ASR \u8207 TTS \u5f15\u64ce\u3002</p>"},{"location":"challenges/","title":"\u958b\u767c\u8a9e\u97f3\u61c9\u7528\u7684\u6311\u6230","text":"<p>\u5728\u6253\u9020\u8a9e\u97f3\u61c9\u7528\u7684\u6642\u5019\uff0c\u6700\u5e38\u898b\u7684\u6311\u6230\uff0c\u4f86\u81ea\u65bc\u6a21\u578b\u7684\u80fd\u529b\uff0c\u74b0\u5883\u566a\u97f3\uff0c\u9084\u6709\u5ef6\u9072\u7684\u554f\u984c\u3002</p>"},{"location":"challenges/#_2","title":"\u6a21\u578b\u7684\u80fd\u529b","text":"<p>\u5728\u6211\u5011\u524d\u9762\u7684\u793a\u7bc4\u4e2d\uff0c\u6211\u5011\u5927\u91cf\u4f7f\u7528\u7cfb\u7d71\u6240\u63d0\u4f9b\u7684 ASR\u3001TTS \u7684\u80fd\u529b\uff0c\u5728 NLU \u8207 NLG \u65b9\u9762\uff0c\u5247\u5927\u91cf\u4f7f\u7528 LLM \u7684\u80fd\u529b\uff0c\u5728\u9019\u88e1\u4f7f\u7528\u7684\u662f Gemini\u3002\u800c\u6211\u5011\u7684\u8a9e\u97f3\u52a9\u7406\u6700\u7d42\u7684\u4f7f\u7528\u9ad4\u9a57\uff0c\u5c31\u5927\u91cf\u53d6\u6c7a\u65bc\u9019\u4e9b\u5143\u4ef6\u3001\u6a21\u578b\u7684\u8868\u73fe\u2014\u5982\u679c\u8fa8\u8b58\u932f\u8aa4\uff0c\u6216\u662f\u7121\u6cd5\u8fa8\u8b58\uff0c\u4f7f\u7528\u8005\u9ad4\u9a57\u5c31\u6703\u5927\u6253\u6298\u6263\u3002\u800c\u901a\u5e38\u6700\u5927\u7684\u554f\u984c\u662f ASR\u3002</p> <p>\u5c0d\u65bc\u4f7f\u7528\u8005\u4f86\u8aaa\uff0cNLU \u5f15\u64ce\u8fa8\u8b58\u610f\u5716\u7684\u904e\u7a0b\uff0c\u5176\u5be6\u662f\u4e0d\u53ef\u898b\u7684\uff0c\u6240\u4ee5\uff0c\u5c31\u7b97\u8fa8\u8b58\u51fa\u5c0d\u958b\u767c\u8005\u800c\u8a00\u932f\u8aa4\u7684\u610f\u5716\uff0c\u6211\u5011\u9084\u662f\u6709\u8fa6\u6cd5\u53ef\u4ee5\u5c0d\u61c9\u5230\u6307\u5b9a\u7684\u5c0d\u8a71\u6d41\u7a0b\u4e0a\u3002\u5982\u679c\u6211\u5011\u767c\u73fe\u67d0\u5957 TTS \u5f15\u64ce\uff0c\u6703\u628a\u67d0\u500b\u53e5\u5b50\u4e2d\u7684\u67d0\u500b\u8a5e\u5538\u932f\uff0c\u6211\u5011\u4e5f\u53ef\u4ee5\u628a\u9019\u500b\u53e5\u5b50\u63db\u6389\uff0c\u63db\u6210\u67d0\u500b\u5176\u5be6\u5beb\u8d77\u4f86\u4e0d\u5c0d\uff0c\u4f46\u662f\u767c\u97f3\u6b63\u78ba\u7684\u53e5\u5b50\u5230 TTS \u5f15\u64ce\u4e0a\uff0c\u7136\u5f8c\u5728 GUI \u756b\u9762\u8207 TTS \u5f15\u64ce\u5176\u5be6\u62ff\u5230\u4e0d\u540c\u7684\u53e5\u5b50\u3002\u9019\u4e9b\u554f\u984c\u5927\u6982\u90fd\u53ef\u4ee5\u7528\u969c\u773c\u6cd5\u89e3\u6c7a\u3002\u4f46\u5982\u679c\u662f ASR \u8fa8\u8b58\u932f\u8aa4\uff0c\u90a3\u5c31\u6c92\u6709\u4ec0\u9ebc\u969c\u773c\u6cd5\u53ef\u4ee5\u7528\u4e86\u3002</p> <p>\u5047\u8a2d\u6211\u5011\u6709\u4e00\u5957\u624b\u6416\u98f2\u6599\u7684\u7684\u8a9e\u97f3\u9ede\u9910\u7cfb\u7d71\uff0c\u88e1\u982d\u6709\u4e00\u9805\u53eb\u505a\u300c\u597d\u7684\u5657\u54a9\u8336\u300d\u9019\u6a23\u7684\u7522\u54c1\uff0c\u9019\u4e26\u4e0d\u662f\u5e38\u898b\u7684\u8a5e\u5f59\uff0c\u5404\u5e73\u53f0\u4e0a\u7684 ASR \u5f15\u64ce\u5927\u6982\u5c31\u4e0d\u8a8d\u5f97\uff0c\u53ef\u80fd\u6703\u8fa8\u8b58\u6210\u300c\u666e\u6d31\u8336\u300d\u3002\u6211\u5011\u53ef\u4ee5\u505a\u500b\u9078\u64c7\uff0c\u7576 ASR \u5f15\u64ce\u5b8c\u6574\u8fa8\u8b58\u51fa\u4e86\u300c\u666e\u6d31\u8336\u300d\u6642\uff0c\u6211\u5011\u5047\u8a2d\u9019\u662f\u300c\u5657\u54a9\u8336\u300d\u7684\u932f\u8aa4\u7d50\u679c\uff0c\u628a\u8981\u8a02\u8cfc\u7684\u7522\u54c1\u5f37\u5236\u6307\u5b9a\u5230\u5657\u54a9\u8336\u4e0a\uff0c\u4f46\uff0c\u5982\u679c\u5e97\u5bb6\u540c\u6642\u6709\u5657\u54a9\u8336\u8207\u666e\u6d31\u8336\uff0c\u9019\u6a23\u5c31\u5f88\u6709\u554f\u984c\u3002\u9084\u6709\u4e00\u7a2e\u53ef\u80fd\u662f\uff0cASR \u5f15\u64ce\u6839\u672c\u6c92\u8fa6\u6cd5\u628a\u300c\u5657\u54a9\u8336\u300d\u8fa8\u8b58\u51fa\u4f86\uff0c</p> <p>\u4e00\u500b\u65b9\u5411\u662f\uff0c\u9019\u500b\u6a21\u578b\u9700\u8981\u52a0\u5f37\u5206\u8fa8\u300c\u5657\u54a9\u8336\u300d\u6216\u300c\u666e\u6d31\u8336\u300d\u7684\u8a13\u7df4\uff0c\u4f46\u4f7f\u7528\u65e2\u6709\u6a21\u578b\u7684\u6211\u5011\u4e26\u6c92\u6709\u9019\u500b\u80fd\u529b\uff0c\u6211\u5011\u6216\u8a31\u8981\u6c42\u52a9\u6709\u81ea\u5bb6 ASR \u6a21\u578b\u7684\u516c\u53f8\uff0c\u5728\u6211\u7684\u8077\u696d\u751f\u6daf\u4e2d\uff0c\u4e5f\u770b\u5230\u4e00\u4e9b\u516c\u53f8\u66fe\u7d93\u5617\u8a66\u900f\u904e Open Source \u7684\u5143\u4ef6\u6253\u9020\u8a9e\u97f3\u61c9\u7528\uff0c\u4f46\u6700\u5f8c\u9084\u662f\u56e0\u70ba ASR \u7684\u80fd\u529b\uff0c\u800c\u53bb\u5c0b\u627e\u53ef\u4ee5\u5ba2\u88fd ASR \u6a21\u578b\u7684\u516c\u53f8\u3002</p> <p>\u6216\u8457\uff0c\u53ef\u4ee5\u9078\u64c7\u5728\u7522\u54c1\u8a2d\u8a08\u4e0a\u907f\u958b\uff0c\u6bd4\u65b9\u8aaa\uff0c\u6211\u5011\u7684\u5e97\u5bb6\u662f\u5426\u61c9\u8a72\u8981\u6709\u300c\u5657\u54a9\u8336\u300d\u9019\u500b\u7522\u54c1\uff0c\u6211\u5011\u662f\u5426\u53ef\u4ee5\u628a\u300c\u5657\u54a9\u8336\u300d\u63db\u6210\u300c\u6ab8\u6aac\u8336\u300d\uff0c\u9019\u6a23\u5c31\u53ef\u4ee5\u907f\u958b\u9019\u500b\u554f\u984c\u3002\u9019\u908a\u80fd\u505a\u7684\u9078\u64c7\uff0c\u5c31\u6703\u4f9d\u8cf4\u5546\u696d\u4e0a\u7684\u5224\u65b7\uff0c\u50cf\u662f\u4f7f\u7528\u300c\u5657\u54a9\u8336\u300d\u9019\u500b\u540d\u7a31\u80fd\u5e36\u4f86\u7684\u6536\u76ca\uff0c\u8207\u627e\u4eba\u8a02\u88fd ASR \u6a21\u578b\u7684\u6210\u672c\u76f8\u6bd4\uff0c\u662f\u5426\u66f4\u503c\u5f97\u3002</p> <p>\u800c\u5728\u4e00\u4e9b\u6642\u5019\uff0c\u6211\u5011\u9084\u6703\u9047\u5230\u5b8c\u5168\u7121\u6cd5\u9069\u7528 ASR \u529f\u80fd\u7684\u60c5\u5883\uff0c\u6bd4\u65b9\u8aaa\uff0c\u6211\u5011\u60f3\u900f\u904e\u8a9e\u97f3\u529f\u80fd\uff0c\u50b3\u8a0a\u606f\u7d66\u6307\u5b9a\u7684\u806f\u7d61\u4eba\uff0c\u4f46\u4ed6\u7684\u540d\u7a31\u53ef\u80fd\u5145\u6eff\u4e86\u7f55\u898b\u5b57\uff0c\u50cf\u662f\u300c\u9f98\u4d9b\u4a3b\u43b1\u3e1e\u86ae\u4876\u4d1e\u4d1d\u4bec\u4b1b\u4c15\u3e5a\u300d<sup>1</sup>\uff0c\u6216\u662f\u5145\u6eff\u4e86\u4e00\u5806\u60f3\u5538\u90fd\u5538\u4e0d\u51fa\u4f86\u7684\u7b26\u865f\uff0c\u50cf\u662f\u300c\u2584\u2583\u2582z\u2605nble\u2581\u2582\u2583\u2584\u300d\u3002\u90a3\u5c31\u5b8c\u5168\u7121\u80fd\u70ba\u529b\u4e86\u3002</p>"},{"location":"challenges/#_3","title":"\u74b0\u5883\u566a\u97f3","text":"<p>\u5982\u679c\u4f7f\u7528\u8005\u8655\u5728\u4e00\u500b\u5435\u96dc\u7684\u74b0\u5883\u4e2d\uff0c\u90a3\u9ebc\u74b0\u5883\u7684\u566a\u97f3\u4e00\u5b9a\u5927\u5927\u5f71\u97ff ASR \u7684\u8fa8\u8b58\u7d50\u679c\u3002\u6211\u5011\u53ef\u4ee5\u5728\u7522\u54c1\u8a2d\u8a08\u4e0a\u63d0\u51fa\u4e00\u4e9b\u5c0d\u4f7f\u7528\u8005\u7684\u8981\u6c42\uff0c\u4f8b\u5982\u8981\u4f7f\u7528\u6307\u5b9a\u578b\u865f\u7684\u8033\u6a5f\u6216\u9ea5\u514b\u98a8\uff0c\u751a\u81f3\u662f\u7279\u5b9a\u7684\u6307\u5411\u6027\u9ea5\u514b\u98a8\u9663\u5217\u3002</p> <p>\u6216\u8457\uff0c\u5728\u4e00\u4e9b\u7cfb\u7d71\u4e2d\uff0c\u6211\u5011\u53ef\u4ee5\u900f\u904e\u8a2d\u5b9a\u4e00\u4e9b\u7cfb\u7d71\u6d88\u9664\u566a\u97f3\uff0c\u4ee5 iOS \u70ba\u4f8b\uff0c\u6211\u5011\u53ef\u4ee5\u5c0d AVAudioSession \u8a2d\u5b9a\u4e0d\u540c\u7684 mode\uff0ciOS \u6703\u5728\u8a2d\u5b9a\u4e0d\u540c\u7684 mode \u4e4b\u5f8c\uff0c\u5957\u7528\u4e0d\u540c\u7684\u6d88\u566a\u7684\u6f14\u7b97\u6cd5\uff0c\u800c\u6240\u8b02\u7684 mode \u5c31\u662f\u4e0d\u540c\u7684\u60c5\u5883\uff0c\u6bd4\u65b9\u8aaa\uff0c\u5982\u679c\u9078\u64c7\u4e86 <code>videoRecording</code>\uff0c\u7528\u624b\u6a5f\u62cd\u7247\u7684\u6a21\u5f0f\uff0c\u90a3\u5c31\u6703\u8b8a\u6210\u76e1\u53ef\u80fd\u8981\u628a\u4ec0\u9ebc\u8072\u97f3\uff08\u5305\u62ec\u566a\u97f3\uff09\u90fd\u9304\u9032\u4f86\uff0c\u986f\u7136\u5c31\u4e0d\u662f\u6211\u5011\u60f3\u8981\u7684\u9304\u97f3\u6a21\u5f0f\u3002\u6bd4\u8f03\u9069\u5408\u50cf\u662f <code>voiceChat</code> \u6216\u662f <code>videoChat</code> \u9019\u7a2e\u5047\u8a2d\u4f7f\u7528\u8005\u662f\u624b\u6301\u624b\u6a5f\uff0c\u8ddf\u4f7f\u7528\u8005\u4fdd\u6301\u4e00\u500b\u8ddd\u96e2\u7684\u9304\u97f3\u6a21\u5f0f\uff0c\u800c\u5728 iOS 12 \u4e4b\u5f8c\uff0c\u860b\u679c\u7279\u5b9a\u91dd\u5c0d\u8a9e\u97f3\u8b58\u5225\u7684\u60c5\u5883\uff0c\u52a0\u4e0a\u4e86 voicePrompt mode\u3002</p> <p>\u800c\u5982\u679c\u9700\u8981\u66f4\u9032\u63a5\u7684\u6d88\u566a\uff0c\u90a3\u5927\u6982\u5f97\u5177\u6709\u6d88\u566a\u6280\u8853\u7684\u4f9b\u61c9\u5546\u4e86\u3002</p>"},{"location":"challenges/#_4","title":"\u5ef6\u9072","text":"<p>\u5728\u6211\u5011\u9019\u6b21\u7684\u793a\u7bc4\u4e2d\uff0c\u4f7f\u7528\u7684 ASR \u5f15\u64ce\u6703\u7528\u5230\u7db2\u8def\u8b58\u5225\uff0c\u50cf\u662f\uff0cspeech_to_text \u5728 iOS \u4e0a\u7528\u5230\u4e86\u860b\u679c\u7684 API\uff0c\u800c\u860b\u679c\u7684\u5be6\u4f5c\u662f\u7528\u5230\u4e86\u4ed6\u5011\u7684\u7db2\u8def\u670d\u52d9\uff0c\u800c NLU\u3001NLG \u5f15\u64ce\uff0c\u5247\u662f\u7528\u5230\u4e86 Gemini API\u3002\u53ea\u8981\u662f\u900f\u904e\u7db2\u8def\u50b3\u8f38\u8cc7\u6599\uff0c\u81ea\u7136\u5c31\u6703\u6709\u5ef6\u9072\uff08Latency\uff09\uff0c\u9019\u500b\u5ef6\u9072\u6703\u5f71\u97ff\u5230\u4f7f\u7528\u8005\u7684\u9ad4\u9a57\u2014\u4f7f\u7528\u8005\u6703\u56e0\u70ba\u7b49\u5f85\u800c\u7169\u8e81\uff0c\u50cf\u662f\u4f7f\u7528\u8005\u53ea\u9700\u8981\u8aaa\u4e00\u8072\u300c\u5c0d\u300d\u6216\u300c\u597d\u300d\uff0c\u4e4b\u5f8c\u537b\u9700\u8981\u597d\u5e7e\u79d2\u7684\u7b49\u5f85\uff0c\u624d\u6703\u9032\u5165\u4e0b\u4e00\u6b65\u3002</p> <p>\u91dd\u5c0d\u4e00\u4e9b\u77ed\u53e5\uff0c\u6211\u5011\u6216\u8a31\u9700\u8981\u505a\u4e00\u4e9b\u6700\u4f73\u5316\uff0c\u6d88\u9664\u4f7f\u7528\u8005\u7684\u7b49\u5f85\u6642\u9593\u3002\u6bd4\u65b9\u8aaa\uff0c\u5728\u6536\u5230 ASR \u7d50\u679c\u4e4b\u5f8c\uff0c\u6211\u5011\u5148\u7528\u4e00\u500b\u7c21\u55ae\u7684\u5b57\u4e32\u8868\u683c\uff0c\u8207 ASR \u7d50\u679c\u6bd4\u5c0d\u4e00\u8f2a\uff0c\u5982\u679c\u767c\u73fe\u662f\u4e00\u4e9b\u660e\u78ba\u7684\u77ed\u53e5\uff0c\u90a3\u4e5f\u5c31\u4e0d\u7528\u53bb\u4f7f\u7528\u7dda\u4e0a\u7684 NLU \u5206\u6790\u529f\u80fd\u3002\u53e6\u5916\uff0cASR \u5f15\u64ce\u901a\u5e38\u6703\u5728\u4f7f\u7528\u8005\u8b1b\u5b8c\u8a71\u4e4b\u5f8c\uff0c\u5927\u6982\u7b49\u5f85\u5e7e\u79d2\u9418\uff0c\u78ba\u5b9a\u4f7f\u7528\u8005\u771f\u7684\u8b1b\u5b8c\u4e86\uff0c\u4f46\u662f\uff0c\u5982\u679c\u6211\u5011\u4e00\u958b\u59cb\u5c31\u77e5\u9053\uff0c\u8a9e\u97f3\u5f15\u64ce\u73fe\u5728\u671f\u5f85\u7684\u5c31\u662f\u8b1b\u4e00\u4e9b\u300c\u597d\u300d\u3001\u300c\u662f\u300d\u3001\u300c\u78ba\u5b9a\u300d\u6216\u300c\u53d6\u6d88\u300d\u7b49\u77ed\u53e5\uff0c\u6211\u5011\u53ef\u4ee5\u4e0d\u7528\u505a\u9019\u6a23\u7684\u7b49\u5f85\uff0c\u53ea\u8981\u6536\u5230\u4e86\u7b26\u5408\u7684\u8fa8\u8b58\u7d50\u679c\uff0c\u5c31\u99ac\u4e0a\u9032\u5165\u4e0b\u4e00\u6b65\u5c0d\u8a71\u6d41\u7a0b\u3002</p> <p>\u53e6\u5916\uff0c\u60a8\u4e5f\u53ef\u80fd\u6703\u6709\u5728\u5b8c\u5168\u4e0d\u9023\u7db2\u7684\u72c0\u6cc1\u4e0b\uff0c\u9700\u8981\u4e00\u5957\u8a9e\u97f3\u52a9\u7406\u3002\u90a3\u9ebc\uff0c\u9019\u88e1\u6240\u6253\u9020\u51fa\u7684\u65b9\u6848\uff0c\u5c31\u5b8c\u5168\u4e0d\u9069\u7528\u4e86\u3002</p>"},{"location":"challenges/#_5","title":"\u5176\u4ed6","text":"<p>\u5176\u4ed6\u6311\u6230\u50cf\u662f\uff1a\u6211\u5011\u9700\u8981\u958b\u767c\u7279\u5b9a\u8a9e\u8a00\u7684\u8a9e\u97f3\u61c9\u7528\uff0c\u4f46\u662f\u6211\u5011\u81ea\u5df1\u4e26\u4e0d\u6703\u8b1b\u9019\u7a2e\u8a9e\u8a00\uff0c\u8eab\u908a\u4e5f\u6c92\u6709\u6703\u8b1b\u9019\u7a2e\u8a9e\u8a00\u7684\u4eba\uff0c\u4e00\u4f86\u4e0d\u77e5\u9053\u600e\u9ebc\u4e0d\u77e5\u9053\u600e\u9ebc\u767c\u97f3\uff0c\u8b93\u6211\u5011\u6709\u8fa6\u6cd5\u6e2c\u8a66\u958b\u767c\u51fa\u7684\u7cfb\u7d71\uff0c\u4e5f\u4e0d\u78ba\u5b9a\u5728\u7279\u5b9a\u6587\u5316\u4e2d\uff0c\u6211\u5011\u7684\u6d41\u7a0b\u662f\u5426\u7b26\u5408\u7576\u5730\u7fd2\u6163\uff0c\u751a\u81f3\u6703\u4e0d\u6703\u5192\u72af\u4f7f\u7528\u8005\u3002\u6211\u5011\u6216\u8a31\u8981\u627e\u66f4\u591a\u7684\u5408\u4f5c\u5925\u4f34\uff0c\u4e0d\u662f\u55ae\u7d14\u53ef\u4ee5\u5f9e\u6280\u8853\u7684\u65b9\u5411\u89e3\u6c7a\u3002</p> <p>\u800c\u8aaa\u5230\u570b\u969b\u5316\u7684\u554f\u984c\uff0c\u60f3\u8981\u8b93\u8a9e\u97f3\u52a9\u7406\u540c\u6642\u8655\u7406\u591a\u570b\u8a9e\u6587\uff0c\u4e5f\u662f\u4e00\u9805\u6311\u6230\u3002\u5728 NLU \u7684\u90e8\u5206\uff0c\u57fa\u65bc\u6587\u5b57\u7684\u8a9e\u8a00\u6a21\u578b\uff0c\u901a\u5e38\u6bd4\u8f03\u80fd\u5920\u5206\u8fa8\u51fa\u4e00\u6bb5\u6587\u5b57\u5c6c\u65bc\u54ea\u4e00\u7a2e\u8a9e\u8a00\uff0c\u800c\u4e14\u6839\u64da\u50b3\u5165\u7684\u8a9e\u8a00\u7d66\u4e88\u76f8\u540c\u8a9e\u8a00\u7684\u56de\u61c9\uff0c\u6bd4\u8f03\u5927\u7684\u554f\u984c\u9084\u662f\u51fa\u5728 ASR \u4e0a\uff0c\u76ee\u524d\u5e38\u898b\u7684 ASR \u5f15\u64ce\u901a\u5e38\u9084\u662f\u4ee5\u4e00\u500b\u8a9e\u8a00\u70ba\u4e3b\uff0c\u7a81\u7136\u8b1b\u53e6\u5916\u4e00\u500b\u8a9e\u8a00\uff0c\u5927\u6982\u90fd\u6703\u5f97\u5230\u9810\u671f\u4ee5\u5916\u7684\u56de\u61c9\u3002\u4f46\u76ee\u524d ASR \u6280\u8853\u4e5f\u5728\u98db\u901f\u9032\u6b65\uff0c\u6211\u5011\u671f\u5f85\u4e0d\u4e45\u5c31\u80fd\u5920\u65b9\u4fbf\u4f7f\u7528\u53ef\u4ee5\u540c\u6642\u6b63\u78ba\u8fa8\u8b58\u591a\u570b\u8a9e\u6587\u7684 ASR \u5f15\u64ce\u3002</p> <ol> <li> <p>\u51fa\u81ea\u300c\u9f98\u4d9b\u4a3b\u4189\u300d\u9019\u9996\u6b4c\uff0chttps://zh-yue.wikipedia.org/wiki/\u9f98\u4d9b\u4a3b\u4189\u00a0\u21a9</p> </li> </ol>"},{"location":"chatbot_vs_assistant/","title":"\u804a\u5929\u6a5f\u5668\u4eba\u8207\u8a9e\u97f3\u52a9\u7406","text":"<p>\u96a8\u8457 ChatGPT\u3001Gemini \u7b49\u670d\u52d9\u554f\u4e16\uff0c\u5927\u5bb6\u61c9\u8a72\u5df2\u7d93\u719f\u6089\u4e86\u6240\u8b02\u7684\u804a\u5929\u6a5f\u5668\u4eba\uff08Chatbot\uff09\u4ee5\u53ca\u751f\u6210\u5f0f AI\u3002\u804a\u5929\u6a5f\u5668\u4eba\u8207\u865b\u64ec\u52a9\u7406\u5176\u5be6\u51fa\u81ea\u65bc\u76f8\u540c\u7684\u6982\u5ff5\u8207\u6280\u8853\uff0c\u4f46\u662f\u5728\u5be6\u969b\u61c9\u7528\u4e0a\u6709\u4e9b\u8a31\u7684\u4e0d\u540c\u3002</p> <p>\u6839\u64da\u7dad\u57fa\u767e\u79d1\uff0c\u6240\u8b02\u7684\u804a\u5929\u6a5f\u5668\u4eba\u662f\u300c\u4e00\u7a2e\u8a2d\u8a08\u7528\u4f86\u6a21\u4eff\u6829\u6829\u5982\u751f\u7684\u4eba\u985e\u6587\u5b57\u6216\u8a9e\u97f3\u4e92\u52d5\u7684\u8edf\u9ad4\u6216\u662f\u7db2\u9801\u4ecb\u9762\u300d<sup>1</sup>\uff0c\u81f3\u65bc\u865b\u64ec\u52a9\u7406\uff0c\u5247\u662f\u300c\u6839\u64da\u4f7f\u7528\u8005\u7684\u547d\u4ee4\u6216\u662f\u554f\u984c\u7b49\u8f38\u5165\uff0c\u5305\u62ec\u8a9e\u8a00\u8f38\u5165\uff0c\u800c\u57f7\u884c\u4e00\u7cfb\u5217\u5de5\u4f5c\u6216\u662f\u670d\u52d9\u7684\u8edf\u9ad4\u3002 \u300d \u6b64\u5916\uff0c\u300c\u865b\u64ec\u52a9\u7406\u7684\u6280\u8853\u901a\u5e38\u6703\u7528\u5230\u804a\u5929\u6a5f\u5668\u4eba\u7684\u80fd\u529b\uff0c\u7528\u4ee5\u6a21\u64ec\u4eba\u969b\u5c0d\u8a71\u3002\u300d<sup>2</sup>\uff0c\u6839\u64da\u9019\u6a23\u7684\u5b9a\u7fa9\uff0c\u6211\u5011\u53ef\u4ee5\u77e5\u9053\u5169\u8005\u4e4b\u9593\u90fd\u5177\u5099\u8207\u4f7f\u7528\u8005\u5c0d\u8a71\u7684\u80fd\u529b\uff0c\u4f46\u662f\u865b\u64ec\u52a9\u7406\u6703\u5728\u804a\u5929\u6a5f\u5668\u4eba\u7684\u57fa\u790e\u4e0a\uff0c\u591a\u51fa\u53ef\u4ee5\u57f7\u884c\u5de5\u4f5c\uff0c\u53ef\u4ee5\u547c\u53eb\u8a9e\u97f3\u7cfb\u7d71\u4ee5\u5916\u7684\u7a0b\u5f0f\u3002\u50cf\u662f\uff0c\u5982\u679c\u662f\u5c0e\u822a\u7528\u7684\u52a9\u7406\uff0c\u5c31\u9700\u8981\u80fd\u5920\u5411\u5916\u547c\u53eb\u5730\u5716\u6216\u5c0e\u822a\u7684 SDK\u3002</p> <p>\u8981\u80fd\u5920\u9806\u5229\u5b8c\u6210\u9019\u4e9b\u5de5\u4f5c\uff0c\u865b\u64ec\u52a9\u7406\u2014\u7121\u8ad6\u662f\u6587\u5b57\u52a9\u7406\u6216\u8a9e\u97f3\u52a9\u7406\u2014\u5728\u4e86\u89e3\u5230\u4f7f\u7528\u8005\u60f3\u9032\u884c\u67d0\u9805\u5de5\u4f5c\u7684\u610f\u5716\u6642\uff0c\u5c31\u5f97\u9032\u5165\u4e00\u5957\u7cfb\u7d71\u5316\u7684\u6d41\u7a0b\uff0c\u4e00\u6b65\u4e00\u6b65\u5f15\u5c0e\u4f7f\u4f7f\u7528\u8005\u5b8c\u6210\u4efb\u52d9\uff0c\u800c\u4e0d\u80fd\u50cf\u662f\u804a\u5929\u6a5f\u5668\u4eba\u4e00\u6a23\uff0c\u7531\u65bc\u53ea\u9700\u8981\u9032\u884c\u5c0d\u8a71\uff0c\u6240\u4ee5\u5c31\u53ef\u4ee5\u5929\u5357\u5730\u5317\u5730\u9592\u804a\u3002</p> <p>\u7531\u65bc ChatGPT \u8207 Gemini \u7b49\u670d\u52d9\u90fd\u5df2\u7d93\u958b\u653e\u4e86 API\uff0c\u5728\u9019\u4e9b\u670d\u52d9\u7684\u7bc4\u4f8b\u4e2d\uff0c\u6211\u5011\u53ef\u4ee5\u8f15\u9b06\u958b\u767c\u51fa\u4e00\u5957\u804a\u5929\u6a5f\u5668\u4eba\uff0c\u800c\u6211\u5011\u73fe\u5728\u9084\u8981\u66f4\u9032\u4e00\u6b65\uff0c\u628a\u8a9e\u97f3\u52a9\u7406\u53ef\u4ee5\u53ef\u4ee5\u57f7\u884c\u7684\u4efb\u52d9\u5340\u5206\u51fa\u4f86\uff0c\u81f3\u65bc\u9019\u4e9b\u4efb\u52d9\u4ee5\u5916\u7684\u90e8\u5206\uff0c\u6211\u5011\u4ecd\u7136\u53ef\u4ee5\u4ea4\u7d66 LLM \u8655\u7406\uff0c\u8b93 LLM \u7522\u751f\u5404\u7a2e\u56de\u7b54\u3002</p> <p>\u800c\u600e\u6a23\u300c\u4e86\u89e3\u3001\u5340\u5206\u51fa\u9019\u662f\u4e00\u4ef6\u53ef\u4ee5\u8b93\u8a9e\u97f3\u52a9\u7406\u57f7\u884c\u7684\u5de5\u4f5c\u300d\uff0c\u6211\u5011\u5176\u5be6\u4e5f\u53ef\u4ee5\u7528 LLM \u7684\u80fd\u529b\u9054\u6210\u2014\u904e\u53bb\uff0c\u4eba\u5011\u5df2\u7d93\u7528\u4e86\u4e00\u4e9b\u597d\u5e7e\u4ee3\u4e4b\u524d\u7684\u6280\u8853\uff0c\u6253\u9020\u4e86\u8a31\u591a\u7684\u8a9e\u97f3\u52a9\u7406\uff0c\u61c9\u7528\u4e86\u65b0\u7684 LLM\uff0c\u6211\u5011\u76f8\u4fe1\u80fd\u5920\u6253\u9020\u51fa\u66f4\u597d\u7684\u8a9e\u97f3\u52a9\u7406\u3002</p> <ol> <li> <p>https://en.wikipedia.org/wiki/Chatbot\u00a0\u21a9</p> </li> <li> <p>https://en.wikipedia.org/wiki/Virtual_assistant\u00a0\u21a9</p> </li> </ol>"},{"location":"components/","title":"\u8a9e\u97f3\u52a9\u7406\u7684\u57fa\u672c\u7d44\u6210","text":"<p>\u5728\u9019\u908a\u9700\u8981\u4ecb\u7d39\u4e00\u4e9b\u5c08\u6709\u540d\u8a5e\u3002\u4e00\u5957\u8a9e\u97f3\u52a9\u7406\u7cfb\u7d71\u7684\u7d44\u6210\uff0c\u901a\u5e38\u6703\u5305\u62ec\u2014ASR\u3001NLU\u3001NLG\u3001TTS \u7b49\uff0c\u5728\u4e00\u500b\u5b8c\u6574\u7684\u8a9e\u97f3\u4e92\u52d5\u4e2d\uff0c\u626e\u6f14\u5404\u81ea\u7684\u89d2\u8272\u3002</p> <ul> <li>ASR\uff1aAutomatic Speech Recognition\uff0c\u81ea\u52d5\u8a9e\u97f3\u8b58\u5225\uff0c\u53c8\u7a31\u70ba STR \uff08Speech-to-Text\uff09\uff0c\u8ca0\u8cac\u5c07\u8a9e\u97f3\u8a0a\u865f\u8f49\u63db\u70ba\u6587\u5b57\u3002\u5c0d\u65bc\u884c\u52d5\u958b\u767c\u8005\u4f86\u8aaa\uff0c\u61c9\u8a72\u6e05\u695a\u860b\u679c\u63d0\u4f9b\u4e86 Sppech \u6846\u67b6\uff0c\u5728 Android \u7cfb\u7d71\u4e2d\u4e5f\u6709 SpeechRecognizer \u53ef\u7528\uff0c\u5728\u700f\u89bd\u5668\u4e2d\u4e5f\u4e00\u6a23\u6709 SpeechRecognition\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u8a31\u591a\u96f2\u7aef\u670d\u52d9\uff0c\u50cf\u662f Google Cloud \u8207 Azure\uff0c\u4e5f\u5177\u5099\u5c07\u4e0a\u50b3\u7684\u8a9e\u97f3\u8cc7\u6599\u8f49\u63db\u6210\u6587\u5b57\u7684\u670d\u52d9\u3002</li> <li>NLU\uff1aNatural Language Understanding\uff0c\u81ea\u7136\u8a9e\u8a00\u7406\u89e3\uff0c\u8ca0\u8cac\u5f9e\u6587\u5b57\u4e2d\u62bd\u53d6\u51fa\u610f\u5716\uff0c\u50cf\u662f\u77e5\u9053\u4f7f\u7528\u8005\u60f3\u8981\u505a\u4ec0\u9ebc\u4e8b\u60c5\uff0c\u60f3\u8981\u554f\u4ec0\u9ebc\u554f\u984c\uff0c\u4e5f\u53ef\u4ee5\u5206\u6790\u4f7f\u7528\u8005\u6240\u8aaa\u7684\u8a71\u7576\u4e2d\u7684\u60c5\u7dd2\uff08\u60b2\u50b7\u3001\u9ad8\u8208\u3001\u61a4\u6012\uff09\uff0c\u6216\u662f\u53e3\u543b\u662f\u6b63\u5f0f\u9084\u662f\u8f15\u9b06\u7b49\u3002\u5728\u884c\u52d5\u958b\u767c\u7684\u6846\u67b6\u4e2d\uff0c\u901a\u5e38\u6c92\u6709\u9019\u90e8\u4efd\u7684\u6846\u67b6\uff0c\u4f46\u662f\u6240\u6709\u7684\u4ea4\u8ac7\u578b LLM \u90fd\u4e00\u5b9a\u5305\u542b NLU \u7684\u80fd\u529b\u3002\u6b64\u5916\uff0c\u6bd4\u8f03\u6709\u540d\u7684 NLU \u5f15\u64ce\u5305\u62ec Google Dialogflow\u3001Microsoft LUIS\u3001IBM Watson\u3001Nuance Recognizer \u7b49\u7b49\u3002</li> <li>NLG\uff1aNatural Language Generation\uff0c\u81ea\u7136\u8a9e\u8a00\u751f\u6210\uff0c\u8ca0\u8cac\u7522\u751f\u5c0d\u7279\u5b9a\u6587\u5b57\u7684\u56de\u8986\u3002\u5176\u5be6\u5404\u7a2e LLM\uff0c\u5c31\u662f\u5728\u64d4\u4efb NLG \u5f15\u64ce\u7684\u5de5\u4f5c\u3002</li> <li>TTS\uff1aText-to-Speech\u3002\u8ca0\u8cac\u5c07\u6587\u5b57\u8f49\u63db\u70ba\u8a9e\u97f3\u3002\u5728\u884c\u52d5\u958b\u767c\u8005\u7684\u6846\u67b6\u4e2d\uff0c\u860b\u679c\u63d0\u4f9b\u4e86 AVSpeechSynthesizer\u3001Google \u63d0\u4f9b\u4e86 TextToSpeech\u3002\u5728\u700f\u89bd\u5668\u4e2d\uff0c\u4e5f\u6709 SpeechSynthesis \u53ef\u7528\u3002\u96f2\u7aef\u670d\u52d9\u4e2d\uff0c\u50cf\u662f Google Cloud \u8207 Azure \u4e5f\u63d0\u4f9b\u4e86\u5c07\u6587\u5b57\u8f49\u63db\u6210\u8a9e\u97f3\u7684\u670d\u52d9\u3002</li> </ul>"},{"location":"components/#_2","title":"\u5404\u7a2e\u7d44\u4ef6\u7684\u5206\u5de5","text":"<p>\u5728\u57f7\u884c\u4e00\u6bb5\u8a9e\u97f3\u52a9\u7406\u7684\u5de5\u4f5c\u6d41\u7a0b\u4e2d\uff0c\u5404\u500b\u7d44\u4ef6\u7684\u5206\u5de5\u5982\u4e0b\uff1a</p> <pre>c8a7afe0-1f60-486c-be1b-2ff740745f0d</pre> <p>\u5728\u4e0a\u5716\u4e2d\uff0c\u591a\u4e86\u4e00\u500b\u53eb\u505a\u300c\u5c0d\u8a71\u5f15\u64ce\u300d\u7684\u89d2\u8272\uff0c\u4e5f\u5c31\u662f\u6211\u5011\u9700\u8981\u81ea\u884c\u958b\u767c\u7684\u90e8\u5206\u3002\u5c0d\u8a71\u5f15\u64ce\u9700\u8981\u8ca0\u8cac\u7ba1\u7406\u4e00\u4efd\u5c0d\u61c9\u8868\u683c\uff08mapping\uff09\uff0c\u5c07\u5404\u7a2e\u5f9e NLU \u5f15\u64ce\u62bd\u53d6\u51fa\u7684\u610f\u5716\uff0c\u5c0d\u61c9\u5230\u6211\u5011\u7684\u8a9e\u97f3\u52a9\u624b\u53ef\u4ee5\u57f7\u884c\u7684\u5de5\u4f5c\u4e0a\u3002\u5982\u679c\u4e0d\u80fd\u8655\u7406\u9019\u9805\u5de5\u4f5c\uff08\u50cf\u4f7f\u7528\u8005\u53ea\u8aaa\u4e86\u300c\u4f60\u597d\u300d\uff0c\u4f46\u662f\u6211\u5011\u6c92\u8fa6\u6cd5\u7528\u300c\u4f60\u597d\u300d\u9019\u53e5\u8a71\u6c7a\u5b9a\u53ef\u4ee5\u505a\u4ec0\u9ebc\u4e8b\uff09\uff0c\u6211\u5011\u53ef\u4ee5\u6709\u5e7e\u500b\u9078\u64c7\uff0c\u6216\u662f\u5c31\u76f4\u63a5\u7528 TTS \u544a\u8a34\u4f7f\u7528\u8005\u6211\u5011\u4e0d\u7406\u89e3\u4f60\u7684\u610f\u5716\uff0c\u6216\u662f\u5c31\u7531 NLU \u5f15\u64ce\u7522\u751f\u4e00\u500b\u56de\u7b54\uff0c\u9019\u6a23\u6703\u8b93\u4f7f\u7528\u8005\u611f\u5230\u6bd4\u8f03\u89aa\u5207\u3002</p> <p>\u81f3\u65bc\u662f\u53ef\u4ee5\u57f7\u884c\u7684\u5de5\u4f5c\uff0c\u5c31\u6703\u8d70\u5165\u4e00\u5957\u6211\u5011\u8a2d\u8a08\u597d\u7684\u5c0d\u8a71\u6d41\u7a0b\u3002\u6211\u5011\u5728\u5f8c\u9762\u518d\u8a73\u7d30\u8a0e\u8ad6\u3002</p>"},{"location":"components/#_3","title":"\u72c0\u614b","text":"<p>\u5f9e\u4ee5\u4e0a\u7684\u6d41\u7a0b\u5716\u4e2d\uff0c\u6211\u5011\u4e5f\u53ef\u4ee5\u767c\u73fe\uff0c\u5c0d\u8a71\u5f15\u64ce\u64c1\u6709\u4ee5\u4e0b\u5e7e\u7a2e\u72c0\u614b\uff1a</p> <ul> <li>\u9592\u7f6e\u72c0\u614b\uff1a\u4e5f\u662f\u8a9e\u97f3\u52a9\u7406\u7684\u521d\u59cb\u72c0\u614b\u3002</li> <li>\u8046\u807d/\u8fa8\u8b58\u72c0\u614b\uff1a\u4f7f\u7528\u8005\u5f9e App \u555f\u52d5\u4e86\u9ea5\u514b\u98a8\uff0c\u5c0d\u7cfb\u7d71\u8f38\u5165\u8a9e\u97f3\u8cc7\u6599\uff0c\u540c\u6642 ASR \u5f15\u64ce\u4e5f\u5728\u5617\u8a66\u8fa8\u8b58\u8a9e\u97f3\u3002\u901a\u5e38\u7b49\u5230\u4f7f\u7528\u8005\u505c\u6b62\u8b1b\u8a71\u4e00\u9663\u5b50\uff0c\u6211\u5011\u67b6\u8a2d\u4f7f\u7528\u8005\u5df2\u7d93\u628a\u60f3\u8b1b\u7684\u8a71\u8aaa\u5b8c\uff0c\u6211\u5011\u5c31\u6703\u9032\u5165\u4e0b\u4e00\u500b\u72c0\u614b\u3002\u800c\u5982\u679c\u5728\u4e00\u6bb5\u6642\u9593\u5167\uff0c\u4f7f\u7528\u8005\u4ec0\u9ebc\u8a71\u90fd\u6c92\u8aaa\uff0c\u6216\u662f\u6c92\u6709\u4efb\u4f55 ASR \u8fa8\u8b58\u7d50\u679c\uff0c\u6211\u5011\u4e5f\u6703\u96e2\u958b\u9019\u500b\u72c0\u614b\uff0c\u56de\u5230\u9592\u7f6e\u72c0\u614b\uff0c\u6211\u5011\u4e5f\u53ef\u80fd\u7528 TTS \u63d0\u793a\u4f7f\u7528\u8005\u300c\u6211\u4e0d\u80fd\u7406\u89e3\u4f60\u7684\u610f\u601d\u300d\u3002</li> <li>\u8655\u7406\u72c0\u614b\uff1a\u6211\u5011\u5c07 ASR \u8fa8\u8b58\u7d50\u679c\u9001\u5230 NLU \u5f15\u64ce\u5f8c\uff0cNLU \u5f15\u64ce\u5f80\u5f80\u9700\u8981\u4e00\u6bb5\u6642\u9593\u5206\u6790\uff0c\u6211\u5011\u4e5f\u5f80\u5f80\u9700\u8981\u7372\u5f97\u4e00\u4e9b\u5176\u4ed6\u7684\u8cc7\u8a0a\uff0c\u624d\u77e5\u9053\u5c0d\u8a71\u61c9\u8a72\u5982\u4f55\u7e7c\u7e8c\u9032\u884c\u3002\u9019\u6bb5\u6642\u9593\uff0c\u6211\u5011\u901a\u5e38\u6703\u5728 App \u4e0a\u986f\u793a\u4e00\u500b\u7b49\u5f85\u7684\u756b\u9762\uff0c\u6216\u662f\u7528 TTS \u63d0\u793a\u4f7f\u7528\u8005\u300c\u6211\u6b63\u5728\u8655\u7406\u4f60\u7684\u8981\u6c42\u300d\u3002</li> <li>TTS \u64ad\u5831\u72c0\u614b\uff1a\u7576\u6211\u5011\u7528 TTS \u56de\u61c9\u4f7f\u7528\u8005\u6642\uff0c\u6211\u5011\u6703\u9032\u5165\u9019\u500b\u72c0\u614b\u3002\u9019\u500b\u72c0\u614b\u901a\u5e38\u6703\u6301\u7e8c\u4e00\u6bb5\u6642\u9593\uff0c\u76f4\u5230 TTS \u64ad\u5831\u5b8c\u7562\uff0c\u6211\u5011\u624d\u6703\u56de\u5230\u9592\u7f6e\u72c0\u614b\u3002\u6216\u662f\uff0c\u5982\u679c\u6211\u5011\u9700\u8981\u7e7c\u7e8c\u8ffd\u554f\u4f7f\u7528\u8005\uff0c\u6211\u5011\u6703\u56de\u5230\u8046\u807d/\u8fa8\u8b58\u72c0\u614b\u3002</li> </ul> <pre>f541293a-fe80-49f5-b20b-55d56da6204d</pre> <p>\u9019\u4e9b\u72c0\u614b\u9084\u53ef\u4ee5\u7e7c\u7e8c\u7d30\u5206\uff0c\u50cf\u662f\u524d\u9762\u63d0\u5230\uff0c\u8655\u7406\u968e\u6bb5\u4e2d\uff0c\u4e5f\u53ef\u4ee5\u7e7c\u7e8c\u62c6\u6210 NLU \u8655\u7406\u4e2d\uff0c\u6216\u662f\u5728\u7372\u53d6\u984d\u5916\u8cc7\u8a0a\u7b49\u968e\u6bb5\u3002\u800c App \u61c9\u8a72\u8981\u76e3\u807d\u9019\u4e9b\u72c0\u614b\uff0c\u4e26\u4e14\u5728\u4e0d\u540c\u7684\u72c0\u614b\u4e0b\uff0c\u986f\u793a\u4e0d\u540c\u7684\u756b\u9762\uff0c\u6216\u662f\u63d0\u4f9b\u4e0d\u540c\u7684\u64cd\u4f5c\uff0c\u4ee5\u7b26\u5408\u4f7f\u7528\u8005\u7684\u9810\u671f\u3002</p> <pre><code>@immutable\nabstract class DialogEngineState {}\n\n/// Idling state\nclass DialogEngineIdling extends DialogEngineState {}\n\n/// Listening state\nclass DialogEngineListening extends DialogEngineState {\n  final String asrResult;\n  DialogEngineListening({required this.asrResult});\n}\n\n/// Processing state\nclass DialogEngineCompleteListening extends DialogEngineState {\n  final String asrResult;\n  DialogEngineCompleteListening({required this.asrResult});\n}\n\n/// TTS playing state\nclass DialogEnginePlayingTts extends DialogEngineState {\n  final String prompt;\n  DialogEnginePlayingTts({required this.prompt});\n}\n</code></pre>"},{"location":"components/#_4","title":"\u4ecb\u9762\u8a2d\u8a08","text":"<p>\u6211\u5011\u53ef\u4ee5\u4f7f\u7528\u7684\u5404\u7a2e ASR\u3001NLU\u3001NLG\u3001TTS \u7684\u670d\u52d9\u975e\u5e38\u591a\uff0c\u9664\u4e86\u5404\u7a2e\u5df2\u6709\u7684\u9078\u64c7\u4e4b\u5916\uff0c\u6211\u5011\u751a\u81f3\u53ef\u80fd\u6703\u958b\u767c\u81ea\u5df1\u7684\u670d\u52d9\uff0c\u50cf\u662f\u5728\u6211\u5011\u81ea\u5df1\u7684\u4f3a\u670d\u5668\u4e0a\u653e\u7f6e\u6211\u5011\u81ea\u5df1\u8abf\u6574\u904e\u7684\u6a21\u578b\u3002\u5f9e\u958b\u767c\u5c0d\u8a71\u5f15\u64ce\u7684\u89d2\u5ea6\u4f86\u770b\uff0c\u6211\u5011\u4fbf\u61c9\u8a72\u5c08\u6ce8\u65bc\u4ecb\u9762\uff0c\u800c\u975e\u500b\u5225\u670d\u52d9\u7684\u5be6\u4f5c\uff0c\u6211\u5011\u53ea\u9700\u8981\u77e5\u9053 ASR\u3001NLU\u2026\u6bcf\u500b\u5f15\u64ce\u6240\u5177\u5099\u7684\u80fd\u529b\uff0c\u4e4b\u5f8c\u53ef\u4ee5\u96a8\u6642\u62bd\u63db\u5be6\u4f5c\u3002\u6211\u5011\u7684\u5c0d\u8a71\u5f15\u64ce\u5927\u6982\u6703\u50cf\u9019\u6a23\uff1a</p> <ul> <li>\u6709 ASR\u3001NLU\u3001NLG\u3001TTS \u56db\u500b\u5f15\u64ce\u7684\u5be6\u4f8b</li> <li>\u6709\u53ef\u4ee5\u8b93\u5916\u90e8\u76e3\u807d\u7684\u72c0\u614b</li> <li>\u6709\u53ef\u4ee5\u8b93\u5916\u90e8\u8a2d\u5b9a\u7684\u5c0d\u8a71\u6d41\u7a0b</li> </ul> <pre><code>class DialogEngine implements VuiFlowDelegate {\n  final AsrEngine asrEngine;\n  final TtsEngine ttsEngine;\n  final NluEngine nluEngine;\n  final NlgEngine nlgEngine;\n\n  final StreamController&lt;DialogEngineState&gt; _stateStream = StreamController();\n  DialogEngineState _state = DialogEngineIdling();\n  DialogEngineState get state =&gt; _state;\n  Stream&lt;DialogEngineState&gt; get stateStream =&gt; _stateStream.stream;\n\n  Map&lt;String, VuiFlow&gt; _vuiFlowMap = {};\n}\n</code></pre>"},{"location":"components/#asr","title":"ASR","text":"<p>\u6211\u5011\u5b9a\u7fa9\u7684 ASR \u5f15\u64ce\u50cf\u9019\u6a23\uff1a</p> <pre><code>enum AsrEngineState {\n  listening,\n  notListening,\n  done,\n}\n\nabstract class AsrEngine {\n  Future&lt;bool&gt; init();\n  Future&lt;bool&gt; startRecognition();\n  Future&lt;bool&gt; stopRecognition();\n  Future&lt;void&gt; setLanguage(String language);\n\n  Function(String, bool)? onResult;\n  Function(AsrEngineState)? onStatusChange;\n  Function(dynamic)? onError;\n  bool get isInitialized;\n}\n</code></pre> <p>\u5728 ASR \u5f15\u64ce\u7684\u4ecb\u9762\u4e0a\uff0c\u6700\u4e3b\u8981\u7684 method \u5c31\u662f\u521d\u59cb\u5316\u3001\u958b\u59cb\u8fa8\u8b58\u3001\u505c\u6b62\u8fa8\u8b58\uff0c\u4ee5\u53ca\u8a2d\u5b9a\u8a9e\u8a00\u3002\u6211\u5011\u4e5f\u63d0\u4f9b\u4e86\u4e00\u4e9b callback\uff0c\u8b93\u5916\u90e8\u53ef\u4ee5\u76e3\u807d ASR \u5f15\u64ce\u7684\u72c0\u614b\u3002\u56e0\u70ba\u5728\u958b\u555f ASR \u5f15\u64ce\u4e4b\u524d\uff0c\u53ef\u80fd\u9700\u8981\u505a\u4e00\u4e9b\u6b0a\u9650\u76f8\u95dc\u7684\u8a2d\u5b9a\uff0c\u56e0\u6b64\u8a2d\u8a08\u4e86\u4e00\u500b\u521d\u59cb\u5316\u7684 method\uff0c\u800c\u5728\u555f\u52d5 ASR \u5f15\u64ce\u4e4b\u5f8c\uff0c\u5c0d\u8a71\u5f15\u64ce\u5c31\u6703\u9032\u5165 Listening \u72c0\u614b\uff0c\u9019\u6642\u5019\u5c31\u6703\u958b\u59cb\u63a5\u6536\u8a9e\u97f3\u8f38\u5165\uff0c\u900f\u904e onResult \u63a5\u6536\u76ee\u524d\u8fa8\u8b58\u51fa\u7684\u6587\u5b57\u3002\u7576\u4f7f\u7528\u8005\u505c\u6b62\u8b1b\u8a71\uff0c\u6216\u662f ASR \u5f15\u64ce\u8fa8\u8b58\u51fa\u4e00\u6bb5\u8a9e\u97f3\uff0c\u6211\u5011\u5c31\u6703\u9032\u5165 Done \u72c0\u614b\uff0c\u9019\u6642\u5019\u5c31\u53ef\u4ee5\u5c07\u8fa8\u8b58\u7d50\u679c\u9001\u5230 NLU \u5f15\u64ce\u3002</p>"},{"location":"components/#nlu","title":"NLU","text":"<pre><code>class NluIntent {\n  final String intent;\n  final Map slots;\n\n  NluIntent({\n    required this.intent,\n    required this.slots,\n  });\n\n  factory NluIntent.fromMap(Map json) {\n    return NluIntent(\n      intent: json['intent'] ?? '',\n      slots: json['slots'] ?? [],\n    );\n  }\n}\n\nabstract class NluEngine {\n  Set&lt;String&gt; availableIntents = &lt;String&gt;{};\n  Set&lt;String&gt; availableSlots = &lt;String&gt;{};\n\n  Future&lt;NluIntent&gt; extractIntent(\n    String utterance, {\n    String? currentIntent,\n    String? additionalRequirement,\n  });\n}\n</code></pre> <p>\u5982\u524d\u6240\u8ff0\uff0cNLU \u5f15\u64ce\u7684\u89d2\u8272\u5c31\u662f\u5f9e\u6587\u5b57\u62bd\u53d6\u51fa\u610f\u5716\u3002\u6240\u4ee5\u6211\u5011\u5728\u9019\u908a\u5b9a\u7fa9\u4e86 <code>NluIntent</code> \u7269\u4ef6\uff0c\u5728\u9019\u500b\u7269\u4ef6\u4e2d\uff0c\u5305\u542b\u88ab\u62bd\u53d6\u51fa\u7684\u610f\u5716\u7684\u4ee3\u865f\uff0c\u4ee5\u53ca\u8207\u9019\u500b\u610f\u5716\u76f8\u95dc\u7684 Slot\u2014\u6240\u8b02\u7684 Slot \u5c31\u662f\u610f\u5716\u4e2d\u7684\u53c3\u6578\u3002\u4f8b\u5982\u300c\u5c0e\u822a\u5230\u52d5\u7269\u5712\u300d\u9019\u53e5\u8a71\u4e2d\uff0c\u300c\u5c0e\u822a\u300d\u662f\u4f7f\u7528\u8005\u60f3\u8981\u57f7\u884c\u7684\u610f\u5716\uff0c\u800c\u300c\u52d5\u7269\u5712\u300d\u5c31\u662f\u9019\u500b\u610f\u5716\u7684 Slot\u3002</p> <p>\u5728 <code>NluEngine</code> \u4ecb\u9762\u4e2d\uff0c\u6211\u5011\u5b9a\u7fa9\u4e86\u4e00\u500b method <code>extractIntent</code>\uff0c\u9019\u500b method \u6703\u63a5\u6536\u4e00\u6bb5\u6587\u5b57\uff0c\u4e26\u4e14\u56de\u50b3\u4e00\u500b <code>NluIntent</code> \u7269\u4ef6\u3002\u5728\u9019\u500b method \u4e2d\uff0c\u6211\u5011\u4e5f\u53ef\u4ee5\u8a2d\u5b9a\u4e00\u4e9b\u53c3\u6578\uff0c\u50cf\u662f\u76ee\u524d\u7684\u610f\u5716\u3001\u6216\u662f\u4e00\u4e9b\u984d\u5916\u7684\u9700\u6c42\uff0c\u8b93 NLU \u5f15\u64ce\u53ef\u4ee5\u66f4\u597d\u5730\u62bd\u53d6\u51fa\u610f\u5716\u3002\u50cf\u662f\uff0c\u6211\u5011\u544a\u8a34 NLU \u5f15\u64ce\u6211\u5011\u60f3\u8981\u54ea\u4e9b NLU \u610f\u5716\u4ee5\u53ca Slot\uff0c\u5c31\u53ef\u4ee5\u5e6b\u52a9\u4ed6\u76e1\u53ef\u80fd\u6b78\u985e\u5230\u6211\u5011\u9650\u5236\u7684\u5206\u985e\u4e2d\u3002</p>"},{"location":"components/#nlg","title":"NLG","text":"<pre><code>abstract class NlgEngine {\n  Future&lt;String?&gt; generateResponse(\n    String utterance, {\n    bool useDefaultPrompt = true,\n    bool? preventMeaningLessMessage,\n  });\n}\n</code></pre> <p>NLG \u7684\u4ecb\u9762\u975e\u5e38\u7c21\u55ae\uff0c\u57fa\u672c\u4e0a\u5c31\u662f\u5c07\u4e00\u6bb5\u6587\u5b57\u4ea4\u7d66 NLG \u5f15\u64ce\uff0c\u4e26\u4e14\u56de\u50b3\u4e00\u6bb5\u56de\u61c9\u3002\u5728\u9019\u500b method \u4e2d\uff0c\u6211\u5011\u4e5f\u53ef\u4ee5\u8a2d\u5b9a\u4e00\u4e9b\u53c3\u6578\uff0c\u50cf\u662f\u662f\u5426\u4f7f\u7528\u9810\u8a2d\u7684\u63d0\u793a\uff0c\u6216\u662f\u662f\u5426\u8981\u907f\u514d\u56de\u50b3\u7121\u610f\u7fa9\u7684\u8a0a\u606f\u3002</p>"},{"location":"components/#tts","title":"TTS","text":"<p>TTS \u5f15\u64ce\u6240\u9700\u8981\u7684\u4ecb\u9762\uff0c\u5c31\u662f\u64ad\u653e\u67d0\u500b\u53e5\u5b50\u4ee5\u53ca\u8207\u505c\u6b62\u64ad\u653e\u3002\u6b64\u5916\uff0c\u6211\u5011\u901a\u5e38\u9700\u8981\u80fd\u5920\u8a2d\u5b9a TTS \u5f15\u64ce\u7684\u8a9e\u8a00\u3001\u8a9e\u901f\u3001\u97f3\u91cf\u3001\u97f3\u9ad8\uff0c\u4ee5\u53ca\u8072\u97f3\uff08\u7537\u8072\u3001\u5973\u8072\u7b49\uff09\u3002\u6211\u5011\u53e6\u5916\u8a2d\u8a08\u4e86\u4e00\u4e9b callback\uff0c\u8b93\u5916\u90e8\u53ef\u4ee5\u76e3\u807d TTS \u5f15\u64ce\u7684\u72c0\u614b\u3002</p> <pre><code>import 'dart:async';\n\nabstract class TtsEngine {\n  Future&lt;void&gt; playPrompt(String prompt);\n  Future&lt;void&gt; stopPlaying();\n  Future&lt;void&gt; setLanguage(String language);\n  Future&lt;void&gt; setSpeechRate(double rate);\n  Future&lt;void&gt; setVolume(double volume);\n  Future&lt;void&gt; setPitch(double pitch);\n  Future&lt;void&gt; setVoice(Map&lt;String, String&gt; voice);\n\n  Function()? onStart;\n  Function()? onComplete;\n  Function(String text, int startOffset, int endOffset, String word)?\n      onProgress;\n  Function(String msg)? onError;\n  Function()? onCancel;\n  Function()? onPause;\n  Function()? onContinue;\n}\n</code></pre>"},{"location":"confirm_cancel/","title":"\u78ba\u8a8d\u8207\u53d6\u6d88","text":"<p>\u6703\u9032\u5165\u591a\u8f2a\u5c0d\u8a71\u7684\u5834\u5408\uff0c\u9664\u4e86\u60f3\u8fa6\u6cd5\u8490\u96c6\u5b8c\u6210\u4e00\u9805\u4efb\u52d9\u6240\u9700\u8981\u7684\u6240\u6709 Slot \u5916\uff08\u505a\u6cd5\u5247\u5411\u524d\u9762\u63d0\u5230\u7684\uff0c\u91cd\u8907\u8907\u88fd\u540c\u4e00\u500b VuiFlow \u5b50\u985e\u5225\uff0c\u5faa\u74b0\u4f7f\u7528\uff09\uff0c\u5c31\u662f\u5728\u8981\u9032\u884c\u5de5\u4f5c\u4e4b\u524d\uff0c\u8207\u4f7f\u7528\u8005\u518d\u6b21\u78ba\u8a8d\u3002\u76f4\u5230\u4f7f\u7528\u8005\u8aaa\u4e86\u300c\u5c0d\u300d\u3001\u300c\u597d\u300d\u3001\u300c\u6c92\u932f\u300d\u7b49\u53e5\u5b50\uff0c\u624d\u6703\u5be6\u969b\u547c\u53eb System Call\u3002</p>"},{"location":"confirm_cancel/#_2","title":"\u78ba\u8a8d","text":"<p>\u56e0\u70ba\u5411\u4f7f\u7528\u8005\u78ba\u8a8d\u4e5f\u662f\u4e00\u6bb5\u5c0d\u8a71\uff0c\u6211\u5011\u4e5f\u53ef\u4ee5\u628a\u9019\u6bb5\u5c0d\u8a71\u5305\u88dd\u5728 <code>VuiFlow</code> \u4e2d\u3002</p> <pre><code>const _maxErrorCount = 5;\n\nclass ConfirmVuiFlow extends VuiFlow {\n  final VuiFlow positiveFlow;\n  final VuiFlow negativeFlow;\n  var errorCount = 0;\n\n  ConfirmVuiFlow({\n    required this.positiveFlow,\n    required this.negativeFlow,\n  });\n\n  @override\n  Future&lt;void&gt; handle(NluIntent intent) async {\n    if (['Confirm', 'Acknowledge', 'Agree'].contains(intent.intent)) {\n      positiveFlow.delegate = delegate;\n      positiveFlow.handle(NluIntent(intent: '', slots: {}));\n    } else if (['Cancel', 'Reject', 'Disagree', 'Deny']\n        .contains(intent.intent)) {\n      negativeFlow.delegate = delegate;\n      negativeFlow.handle(NluIntent(intent: '', slots: {}));\n    } else {\n      errorCount += 1;\n      if (errorCount &gt;= _maxErrorCount) {\n        await delegate?.onPlayingPrompt('\u5f88\u62b1\u6b49\uff0c\u932f\u8aa4\u6b21\u6578\u904e\u591a');\n        await delegate?.onEndingConversation();\n        return;\n      }\n      await delegate?.onPlayingPrompt('\u5f88\u62b1\u6b49\uff0c\u6211\u4e0d\u61c2\u4f60\u7684\u610f\u601d\uff0c\u4f60\u78ba\u5b9a\u55ce\uff1f');\n      final newFlow =\n          ConfirmVuiFlow(positiveFlow: positiveFlow, negativeFlow: negativeFlow)\n            ..errorCount = errorCount;\n      await delegate?.onSettingCurrentVuiFlow(newFlow);\n      await delegate?.onStartingAsr();\n    }\n  }\n\n  @override\n  String get intent =&gt; '';\n\n  @override\n  List&lt;String&gt; get slots =&gt; &lt;String&gt;[];\n}\n</code></pre> <p><code>ConfirmVuiFlow</code> \u6709\u5169\u500b\u6210\u54e1\u8b8a\u6578\uff1a<code>positiveFlow</code> \u8207 <code>negativeFlow</code>\uff0c\u5206\u5225\u4ee3\u8868\u4f7f\u7528\u8005\u56de\u7b54\u300c\u5c0d\u300d\u8207\u300c\u4e0d\u5c0d\u300d\u6642\uff0c\u8981\u9032\u5165\u7684\u4e0b\u4e00\u500b VuiFlow\u3002\u5728 <code>handle</code> \u4e2d\uff0c\u6211\u5011\u6aa2\u67e5\u4f7f\u7528\u8005\u7684\u56de\u7b54\uff0c\u5982\u679c\u662f\u300c\u5c0d\u300d\uff0c\u5c31\u9032\u5165 <code>positiveFlow</code>\uff0c\u5982\u679c\u662f\u300c\u4e0d\u5c0d\u300d\uff0c\u5c31\u9032\u5165 <code>negativeFlow</code>\u3002\u5982\u679c\u4f7f\u7528\u8005\u7684\u56de\u7b54\u4e0d\u662f\u6211\u5011\u9810\u671f\u7684\uff0c\u6211\u5011\u6703\u518d\u6b21\u8a62\u554f\u4f7f\u7528\u8005\uff0c\u76f4\u5230\u932f\u8aa4\u6b21\u6578\u904e\u591a\uff0c\u5c31\u7d50\u675f\u5c0d\u8a71\u3002</p>"},{"location":"confirm_cancel/#_3","title":"\u53d6\u6d88","text":"<p>\u6211\u5011\u9700\u8981\u7279\u5225\u6ce8\u610f\uff0c\u4f7f\u7528\u8005\u4e0d\u4e00\u5b9a\u5728\u78ba\u8a8d\u7684\u6d41\u7a0b\u4e2d\u8aaa\u51fa\u300c\u53d6\u6d88\u300d\uff0c\u800c\u5f88\u6709\u53ef\u80fd\u5728\u5404\u7a2e\u5176\u4ed6\u7684\u72c0\u6cc1\u4e0b\u8aaa\u51fa\u4f86\u3002\u50cf\u662f\uff0c\u5728\u9ede\u9910\u7cfb\u7d71\u4e2d\uff0c\u4f7f\u7528\u8005\u624d\u525b\u8aaa\u5b8c\u300c\u6211\u60f3\u9ede\u9910\u300d\uff0c\u6211\u5011\u7528\u300c\u60a8\u60f3\u8981\u9ede\u4ec0\u9ebc\u300d\u56de\u61c9\u4e4b\u5f8c\uff0c\u4f7f\u7528\u8005\u7a81\u7136\u53cd\u6094\uff0c\u53ef\u80fd\u662f\u7a81\u7136\u60f3\u53bb\u5225\u5bb6\u5e97\uff0c\u4e5f\u53ef\u80fd\u662f\u770b\u4e0d\u5230\u559c\u6b61\u7684\u9910\u9ede\uff0c\u800c\u8aaa\u4e86\u300c\u53d6\u6d88\u300d\uff0c\u60f3\u8981\u7d50\u675f\u5c0d\u8a71\u3002</p> <p>\u6211\u5011\u9019\u6642\u5019\u53ef\u4ee5\u6709\u5169\u7a2e\u9078\u64c7\uff1a\u4e00\u7a2e\u5c31\u662f\u5728\u539f\u672c\u300c\u4f60\u60f3\u8981\u9ede\u4ec0\u9ebc\u300d\u7684 VuiFlow \u4e2d\uff0c\u591a\u5224\u65b7\u50b3\u5165\u7684\u610f\u5716\u662f\u4e0d\u662f\u53d6\u6d88\uff0c\u5982\u679c\u662f\uff0c\u90a3\u5c31\u9032\u5165\u7d50\u675f\u5c0d\u8a71\u7684\u6d41\u7a0b\u5206\u652f\u3002\u9019\u9ebc\u505a\u5728\u6211\u5011\u6709\u5f88\u591a\u7684 VuiFlow\uff0c\u8a9e\u97f3\u52a9\u7406\u7684\u529f\u80fd\u5f88\u591a\u6642\uff0c\u5c31\u5f88\u5bb9\u6613\u7522\u751f\u5927\u91cf\u91cd\u8907\u7684\u7a0b\u5f0f\u78bc\uff0c\u56e0\u70ba\u7b49\u65bc\u6bcf\u500b\u8a62\u554f\uff0c\u90fd\u9700\u8981\u8655\u7406\u53d6\u6d88\u7684\u610f\u5716\u3002\u6211\u5011\u4e5f\u53ef\u4ee5\u5be6\u4f5c\u4e00\u500b\u5168\u57df\u7684\u5224\u65b7\uff0c\u5728\u4efb\u4f55\u6642\u523b\uff0c\u53ea\u8981\u4f7f\u7528\u8005\u8aaa\u51fa\u300c\u53d6\u6d88\u300d\uff0c\u5c31\u7d50\u675f\u5c0d\u8a71\u3002\u4fee\u6539\u7684\u5730\u65b9\u5c31\u5728\u5c0d\u8a71\u5f15\u64ce\u7684 <code>handleInput</code> \u9019\u6bb5\uff1a</p> <pre><code>  Future handleInput(String input) async {\n    _emit(DialogEngineCompleteListening(asrResult: input));\n    await ttsEngine.stopPlaying();\n    await asrEngine.stopRecognition();\n\n    try {\n      final additionalPrompt = _collectionAdditionalNluPrompt();\n      final intent = await nluEngine.extractIntent(\n        input,\n        currentIntent: _currentVuiFlow?.intent,\n        additionalRequirement: additionalPrompt,\n      );\n\n    if (intent.intent == 'Cancel') {\n        // \u64ad\u653e TTS\n        stop();\n        return;\n    }\n    ...\n</code></pre> <p>\u5169\u7a2e\u4f5c\u6cd5\u4e4b\u9593\u4e26\u6c92\u6709\u54ea\u7a2e\u6bd4\u8f03\u597d\uff0c\u800c\u662f\u6839\u64da\u5be6\u969b\u7684\u7522\u54c1\u9700\u6c42\u6c7a\u5b9a\u3002</p>"},{"location":"dialog_engine/","title":"\u5be6\u4f5c\u5b8c\u6574\u7684\u5c0d\u8a71\u5f15\u64ce","text":"<p>\u6211\u5011\u5df2\u7d93\u9010\u4e00\u5be6\u4f5c\u4e86 ASR\u3001NLU\u3001NLG\u3001TTS \u5f15\u64ce\u4ee5\u53ca\u5c0d\u8a71\u6d41\u7a0b\uff0c\u73fe\u5728\uff0c\u5c31\u53ef\u4ee5\u6839\u64da\u524d\u7ae0\u3008\u8a9e\u97f3\u52a9\u7406\u7684\u57fa\u672c\u7d44\u6210\u3009\u6240\u8ff0\uff0c\u5c07\u5404\u500b\u5143\u4ef6\u4e32\u63a5\u8d77\u4f86\uff0c\u5f62\u6210\u4e00\u500b\u5b8c\u6574\u7684\u5c0d\u8a71\u5f15\u64ce\u3002</p>"},{"location":"dialog_engine/#_2","title":"\u521d\u59cb\u5316","text":"<p>\u5728\u53ef\u4ee5\u4f7f\u7528\u9019\u500b\u5c0d\u8a71\u5f15\u64ce\u4e4b\u524d\uff0c\u9700\u8981\u5148\u521d\u59cb\u5316 ASR \u5f15\u64ce\u3002\u6211\u5011\u65bc\u662f\u5728\u5c0d\u8a71\u5f15\u64ce\u4e2d\u52a0\u5165\u4e86\u4e00\u500b <code>init</code> method\uff0c\u53e6\u5916\uff0c\u5beb\u4e86\u4e00\u500b <code>_emit</code> method\uff0c\u7528\u4f86\u767c\u9001\u5c0d\u8a71\u5f15\u64ce\u7684\u72c0\u614b\u3002</p> <pre><code>class DialogEngine implements VuiFlowDelegate {\n  void _emit(DialogEngineState state) {\n    _state = state;\n    _stateStream.add(state);\n  }\n\n  Future&lt;bool&gt; init() async =&gt; await asrEngine.init();\n}\n</code></pre>"},{"location":"dialog_engine/#_3","title":"\u5efa\u7acb\u610f\u5716\u8207\u5c0d\u8a71\u6d41\u7a0b\u7684\u5c0d\u61c9\u8868\u683c","text":"<p>\u5c0d\u8a71\u5f15\u64ce\u5167\u90e8\u6703\u7dad\u8b77\u4e00\u4efd\u53eb\u505a _vuiFlowMap \u7684\u8868\u683c\uff0c\u4e4b\u5f8c\uff0c\u7576\u5c0d\u8a71\u5f15\u64ce\u6536\u5230\u67d0\u500b\u610f\u5716\u6642\uff0c\u5c31\u53ef\u4ee5\u53bb\u9019\u500b\u8868\u683c\u4e2d\u5c0b\u627e\u662f\u5426\u6709\u5c0d\u61c9\u7684\u5c0d\u8a71\u6d41\u7a0b\u3002\u800c\u6211\u5011\u4e5f\u8a2d\u8a08\u4e86\u4e00\u500b\u53eb\u505a <code>registerFlows</code> \u7684 method\uff0c\u53ef\u4ee5\u5c07\u65b0\u7684\u5c0d\u8a71\u6d41\u7a0b\u52a0\u5230\u9019\u500b\u8868\u683c\u4e2d\u3002</p> <pre><code>class DialogEngine implements VuiFlowDelegate {\n...\n\n  Map&lt;String, VuiFlow&gt; _vuiFlowMap = {};\n  VuiFlow? _currentVuiFlow;\n...\n\n  /// Resets the list of [VuiFlow].\n  void resetFlows() {\n    _vuiFlowMap = {};\n    _updateIntents();\n  }\n\n  /// Register a list of [VuiFlow].\n  void registerFlows(List&lt;VuiFlow&gt; flows) {\n    for (final flow in flows) {\n      _vuiFlowMap[flow.intent] = flow;\n      flow.delegate = this;\n    }\n    _updateIntents();\n  }\n\n  void _updateIntents() {\n    var intents = &lt;String&gt;{\n      'Confirm',\n      'Acknowledge',\n      'Agree',\n      'Cancel',\n      'Reject',\n      'Disagree',\n      'Deny',\n    };\n    var slots = &lt;String&gt;{};\n\n    for (final key in _vuiFlowMap.keys) {\n      intents.add(key);\n      final flow = _vuiFlowMap[key];\n      if (flow == null) {\n        continue;\n      }\n      slots.addAll(flow.slots);\n    }\n    nluEngine.availableIntents = intents;\n    nluEngine.availableSlots = slots;\n  }\n\n...\n}\n</code></pre> <p>\u7576\u6709\u65b0\u7684\u5c0d\u8a71\u6d41\u7a0b\u88ab\u52a0\u5165\u5230\u5c0d\u8a71\u5f15\u64ce\u6642\uff0c\u6211\u5011\u6703\u547c\u53eb <code>_updateIntents</code> method\uff0c\u9019\u500b method \u6703\u5c07\u6240\u6709\u7684\u610f\u5716\u8207 Slot \u90fd\u66f4\u65b0\u5230 NLU \u5f15\u64ce\u4e2d\uff0c\u9019\u6a23\uff0cNLU \u5f15\u64ce\u5c31\u53ef\u4ee5\u77e5\u9053\u76ee\u524d\u6709\u54ea\u4e9b\u610f\u5716\u8207 Slot \u53ef\u4ee5\u88ab\u8fa8\u8b58\u3002</p>"},{"location":"dialog_engine/#vui-flow-delegate","title":"\u5be6\u4f5c VUI flow Delegate","text":"<p>\u6bcf\u500b VUI flow \u7684 delegate\uff0c\u5176\u5be6\u5c31\u662f\u6211\u5011\u7684\u5c0d\u8a71\u5f15\u64ce\u3002\u6240\u4ee5\u6211\u5011\u9700\u8981\u5be6\u4f5c <code>VuiFlowDelegate</code> \u9019\u500b interface\u3002</p> <pre><code>class DialogEngine implements VuiFlowDelegate {\n...\n  @override\n  Future&lt;void&gt; onEndingConversation() async {\n    await stop();\n  }\n\n  @override\n  Future&lt;String?&gt; onGeneratingResponse(\n    String utterance, {\n    bool useDefaultPrompt = true,\n  }) async {\n    return await nlgEngine.generateResponse(\n      utterance,\n      useDefaultPrompt: useDefaultPrompt,\n    );\n  }\n\n  @override\n  Future&lt;void&gt; onPlayingPrompt(String prompt) async {\n    await ttsEngine.stopPlaying();\n    _emit(DialogEnginePlayingTts(prompt: prompt));\n    await ttsEngine.playPrompt(prompt);\n  }\n\n  @override\n  Future&lt;void&gt; onSettingCurrentVuiFlow(VuiFlow? vuiFlow) async {\n    vuiFlow?.delegate = this;\n    _currentVuiFlow = vuiFlow;\n  }\n\n  @override\n  Future&lt;void&gt; onStartingAsr() async {\n    await start(clearCurrentVuiFlow: false);\n  }\n}\n</code></pre> <p>\u7136\u5f8c <code>start</code> \u8207 <code>stop</code> \u7684\u5be6\u4f5c\u5982\u4e0b\u3002\u5927\u6982\u5c31\u662f\u958b\u59cb\u4ee5\u53ca\u505c\u6b62 ASR/NLU \u5f15\u64ce\u7684\u76f8\u95dc\u5de5\u4f5c\u3002\u53ef\u4ee5\u60f3\u50cf\u5982\u679c NLU \u6216 NLG \u5f15\u64ce\u6b63\u5728\u904b\u4f5c\u4e2d\uff0c\u4e5f\u61c9\u8a72\u505c\u6b62\uff0c\u4e0d\u904e\u9019\u908a\u5c31\u5148\u5077\u61f6\u4e0d\u5beb\u3002</p> <pre><code>  Future&lt;bool&gt; start({\n    clearCurrentVuiFlow = true,\n  }) async {\n    if (!asrEngine.isInitialized) {\n      return false;\n    }\n\n    if (clearCurrentVuiFlow) {\n      _currentVuiFlow?.cancel();\n      _currentVuiFlow = null;\n    }\n    await ttsEngine.stopPlaying();\n    await asrEngine.stopRecognition();\n    await asrEngine.startRecognition();\n    _emit(DialogEngineListening(asrResult: ''));\n    return true;\n  }\n\n  Future&lt;bool&gt; stop() async {\n    if (!asrEngine.isInitialized) {\n      return false;\n    }\n\n    _currentVuiFlow?.cancel();\n    _currentVuiFlow = null;\n    await ttsEngine.stopPlaying();\n    await asrEngine.stopRecognition();\n    _emit(DialogEngineIdling());\n    return true;\n  }\n</code></pre>"},{"location":"dialog_engine/#asr-nlu","title":"\u9023\u63a5 ASR \u8207 NLU \u5f15\u64ce","text":"<p>\u5728\u958b\u59cb\u5efa\u7acb\u9019\u500b\u5c0d\u8a71\u5f15\u64ce\u7684\u6642\u5019\uff0c\u6211\u5011\u5c31\u958b\u59cb\u76e3\u807d ASR \u5f15\u64ce\u7684\u72c0\u614b\u3002\u5982\u679c ASR \u5f15\u64ce\u9084\u5728\u8b58\u5225\u7576\u4e2d\uff0c\u6211\u5011\u5c31\u900f\u904e\u66f4\u65b0\u72c0\u614b\uff0c\u53cd\u61c9\u76ee\u524d\u7684\u8fa8\u8b58\u7d50\u679c\uff0c\u5982\u679c\u8fa8\u8b58\u5b8c\u6210\uff0c\u5c31\u958b\u59cb\u8b93 NLU \u5f15\u64ce\u5206\u6790\u610f\u5716\uff08\u4e5f\u5c31\u662f <code>handleInput</code> \u9019\u6bb5\uff09\u3002\u9019\u908a\u6709\u4e00\u5c0f\u6bb5\u908f\u8f2f\uff0c\u5728\u65bc\u8655\u7406\u4f7f\u7528\u8005\u5b8c\u5168\u4e0d\u8aaa\u8a71\u7684\u72c0\u614b\u2014\u5982\u679c\u5b8c\u5168\u6c92\u6709\u8b58\u5225\u7d50\u679c\uff0c\u800c\u4e14\u4e0d\u5728\u5c0d\u8a71\u6d41\u7a0b\u4e2d\uff0c\u5c31\u6703\u76f4\u63a5\u9032\u5165\u9592\u7f6e\u72c0\u614b\u3002</p> <pre><code>  DialogEngine({\n    required this.asrEngine,\n    required this.ttsEngine,\n    required this.nluEngine,\n    required this.nlgEngine,\n  }) {\n    asrEngine.onResult = (result, isFinal) async {\n      if (!isFinal) {\n        _emit(DialogEngineListening(asrResult: result));\n      } else {\n        await handleInput(result);\n      }\n    };\n    asrEngine.onError = (error) async {\n      await ttsEngine.stopPlaying();\n      await asrEngine.stopRecognition();\n      _emit(DialogEngineIdling());\n    };\n    asrEngine.onStatusChange = (state) async {\n      if (state == AsrEngineState.listening) {\n        return;\n      }\n      final current = this.state;\n      if (current is DialogEngineCompleteListening) {\n        return;\n      }\n      if (current is DialogEngineListening) {\n        if (current.asrResult != '') {\n          return;\n        }\n      }\n\n      if (_currentVuiFlow != null) {\n        final intent = NluIntent(intent: '', slots: {});\n        await _currentVuiFlow\n            ?.handle(intent)\n            .timeout(const Duration(seconds: 60));\n        return;\n      }\n\n      if (current is DialogEngineListening) {\n        _emit(DialogEngineIdling());\n      }\n    };\n  }\n</code></pre> <p>\u81f3\u65bc <code>handleInput</code> \u7684\u5167\u5bb9\u5982\u4e0b\u3002\u6211\u5011\u5e73\u5e38\u6703\u66b4\u9732 <code>handleInput</code>\uff0c\u56e0\u6b64\uff0c\u5916\u90e8\u53ef\u4ee5\u4e0d\u7528\u771f\u7684\u900f\u904e ASR \u8a9e\u97f3\u9304\u97f3\uff0c\u800c\u662f\u76f4\u63a5\u5c0d\u9019\u500b method \u50b3\u5165\u4e00\u6bb5\u6587\u5b57\uff0c\u5c31\u53ef\u4ee5\u555f\u52d5 NLU \u5f15\u64ce\u4ee5\u53ca\u5c0d\u8a71\u6d41\u7a0b\uff0c\u9032\u884c\u6574\u5408\u6e2c\u8a66\u3002</p> <pre><code>  String fallbackErrorMessage = 'Sorry, I do not understand for now.';\n\n  Future handleInput(String input) async {\n    _emit(DialogEngineCompleteListening(asrResult: input));\n    await ttsEngine.stopPlaying();\n    await asrEngine.stopRecognition();\n\n    try {\n      final additionalPrompt = _collectionAdditionalNluPrompt();\n      final intent = await nluEngine.extractIntent(\n        input,\n        currentIntent: _currentVuiFlow?.intent,\n        additionalRequirement: additionalPrompt,\n      );\n      if (_currentVuiFlow != null) {\n        await _currentVuiFlow\n            ?.handle(intent)\n            .timeout(const Duration(seconds: 60));\n        return;\n      }\n      final flow = _vuiFlowMap[intent.intent];\n      if (flow != null) {\n        await flow.handle(intent).timeout(const Duration(seconds: 60));\n        return;\n      }\n      final prompt =\n          await nlgEngine.generateResponse(input) ?? fallbackErrorMessage;\n      await onPlayingPrompt(prompt);\n      await stop();\n    } catch (e) {\n      _currentVuiFlow = null;\n      await onPlayingPrompt(fallbackErrorMessage);\n      await stop();\n    }\n</code></pre> <p>\u5230\u9019\u88e1\uff0c\u6211\u5011\u5df2\u7d93\u5b8c\u6210\u4e86\u6211\u5011\u7684\u5c0d\u8a71\u5f15\u64ce\u3002</p>"},{"location":"dialog_engine/#_4","title":"\u6574\u5408\u6e2c\u8a66","text":"<p>\u5728\u6211\u5011\u6025\u8457\u628a\u9019\u500b\u5c0d\u8a71\u5f15\u64ce\u6574\u5408\u5230\u6211\u5011\u7684\u61c9\u7528\u7a0b\u5f0f\u4e4b\u524d\uff0c\u6211\u5011\u53ef\u4ee5\u5148\u5beb\u4e00\u4e9b\u6574\u5408\u6e2c\u8a66\uff0c\u4f86\u78ba\u4fdd\u9019\u500b\u5c0d\u8a71\u5f15\u64ce\u7684\u529f\u80fd\u662f\u6b63\u78ba\u7684\u3002\u9019\u908a\u6211\u5011\u53ef\u4ee5\u4f7f\u7528 <code>flutter_test</code> \u9019\u500b\u5957\u4ef6\uff0c\u4f86\u5beb\u4e00\u4e9b\u6e2c\u8a66\u3002\u6e2c\u8a66\u7684\u5167\u5bb9\u662f\uff0c\u6211\u5011\u5148\u7528\u300c\u6211\u60f3\u8acb\u5047\u300d\uff0c\u555f\u52d5 <code>LeaveApplication</code> \u610f\u5716\uff0c\u4f46\u7531\u65bc\u6b20\u7f3a\u65e5\u671f\u8207\u4e8b\u7531\uff0c\u6240\u4ee5\u6703\u9032\u5165\u591a\u8f2a\u5c0d\u8a71\uff0c\u7136\u5f8c\u6211\u5011\u518d\u8f38\u5165\u300c\u660e\u5929\u4e0b\u5348\u6211\u60f3\u51fa\u53bb\u73a9\u300d\uff0c\u9019\u6a23\u5c31\u53ef\u4ee5\u5b8c\u6210\u9019\u500b\u5c0d\u8a71\u6d41\u7a0b\uff0c\u6700\u5f8c\u9a57\u8b49\u662f\u5426\u6b63\u78ba\u5230\u4e86 System Call\u3002\u70ba\u4e86\u907f\u514d\u56e0\u70ba\u7db2\u8def\u65b7\u7dda\u7b49\u554f\u984c\uff0c\u9020\u6210\u6e2c\u8a66\u5361\u4f4f\uff0c\u6211\u5011\u9810\u671f\u4e8c\u5341\u79d2\u4e4b\u5167\u8981\u5b8c\u6210\u6e2c\u8a66\u3002</p> <pre><code>  test('Test Engine with Leave Application', () async {\n    final engine = DialogEngine(\n      asrEngine: MockAsrEngine(),\n      ttsEngine: MockTtsEngine(),\n      nluEngine: GeminiNluEngine(apiKey: key),\n      nlgEngine: GeminiNlgEngine(apiKey: key),\n    );\n\n    final completer = Completer();\n    var systemCallCalled = false;\n    engine.registerFlows([\n      LeaveApplicationVuiFlow(\n          onMakingLeaveApplication: (reason, date, text) async {\n        expect(date, '\u660e\u5929\u4e0b\u5348');\n        expect(reason, '\u51fa\u53bb\u73a9');\n        systemCallCalled = true;\n        completer.complete();\n        return true;\n      })\n    ]);\n    await engine.init();\n    await engine.handleInput('\u6211\u60f3\u8acb\u5047');\n    await Future.delayed(const Duration(seconds: 5));\n    await engine.handleInput('\u660e\u5929\u4e0b\u5348\u6211\u60f3\u51fa\u53bb\u73a9');\n    await completer.future.timeout(const Duration(seconds: 20));\n    expect(systemCallCalled, isTrue);\n  });\n</code></pre> <p>\u5728\u9019\u500b\u6574\u5408\u6e2c\u8a66\u7576\u4e2d\uff0c\u6211\u5011\u4e5f\u793a\u7bc4\u4e86\u600e\u6a23\u5f9e\u5916\u90e8\u5efa\u7acb\u6211\u5011\u7684\u5c0d\u8a71\u5f15\u64ce\u7684\u4f5c\u6cd5\u3002</p> <ul> <li>\u9996\u5148\u5efa\u7acb\u5c0d\u8a71\u5f15\u64ce\u7684 instance\uff0c\u7576\u4e2d\u9078\u64c7\u4e86\u6211\u5011\u8981\u4f7f\u7528\u7684 ASR\u3001NLU\u3001NLG\u3001TTS \u5f15\u64ce</li> <li>\u5c0d\u5f15\u64ce\u8a3b\u518a\u6211\u5011\u8981\u4f7f\u7528\u7684 VUI flow\u3002</li> <li>\u521d\u59cb\u5316\u5c0d\u8a71\u5f15\u64ce</li> </ul> <p>\u4e4b\u5f8c\uff0c\u6211\u5011\u900f\u904e <code>handleInput</code> \u6e2c\u8a66\uff0c\u5728\u5be6\u969b\u7684 app \u4e2d\uff0c\u6211\u5011\u5247\u7528 <code>start</code> method \u4f86\u555f\u52d5\u5c0d\u8a71\u5f15\u64ce\u3002</p>"},{"location":"next_steps/","title":"\u4e0b\u4e00\u6b65","text":"<p>\u6211\u5011\u5b8c\u6210\u4e86\u4e00\u500b\u7c21\u55ae\u7684\u5c0d\u8a71\u5f15\u64ce\uff0c\u4e0d\u904e\uff0c\u8ddd\u96e2\u5b8c\u6574\u7684\u8a9e\u97f3\u52a9\u7406\uff0c\u9084\u6709\u5f88\u591a\u7684\u5de5\u4f5c\u8981\u505a\u3002</p>"},{"location":"next_steps/#gui","title":"\u8207 GUI \u7684\u6574\u5408","text":"<p>\u63a5\u4e0b\u4f86\u81ea\u7136\u662f\u8981\u5c07\u9019\u500b\u5c0d\u8a71\u5f15\u64ce\uff0c\u5be6\u969b\u61c9\u7528\u5728\u4e00\u500b\u5b8c\u6574\u7684 Flutter \u61c9\u7528\u7576\u4e2d\uff0c\u6211\u5011\u53ef\u4ee5\u8003\u616e\u628a\u6211\u5011\u7684\u8a9e\u97f3\u5f15\u64ce\u653e\u5728\u4e00\u500b Provider \u6216\u662f BLoC \u4e2d\uff0c\u653e\u5728 Widget Tree \u6bd4\u8f03\u4e0a\u5c64\u7684\u4f4d\u7f6e\uff0c\u8b93\u6574\u500b App \u7684\u5176\u4ed6\u90e8\u5206\u53ef\u4ee5\u958b\u59cb\u6216\u662f\u7d50\u675f\u5c0d\u8a71\uff0c\u4ee5\u53ca\u900f\u904e\u76e3\u807d\u8a9e\u97f3\u52a9\u7406\u7684\u72c0\u614b\u8b8a\u5316\uff0c\u66f4\u65b0 GUI\u3002</p> <p>\u5728\u5be6\u52d9\u4e0a\uff0c\u6211\u5011\u9664\u4e86\u5728 GUI \u4e0a\u53cd\u61c9\u8a9e\u97f3\u52a9\u7406\u7684\u72c0\u614b\uff0c\u4e5f\u5e38\u5e38\u6703\u6709\u8907\u96dc\u7684 GUI/VUI \u6df7\u5408\u7684\u4e92\u52d5\u6d41\u7a0b\uff0c\u6bd4\u65b9\u8aaa\uff0c\u5728\u9ede\u9910\u7cfb\u7d71\u4e2d\uff0c\u7576\u4f7f\u7528\u8005\u8b1b\u4e86\u300c\u6211\u60f3\u9ede\u9910\u300d\uff0c\u6211\u5011\u9664\u4e86\u7528 VUI \u53cd\u554f\u4f7f\u7528\u8005\u300c\u60a8\u60f3\u9ede\u4e9b\u4ec0\u9ebc\u300d\uff0c\u9032\u5165\u7b2c\u4e8c\u8f2a\u5c0d\u8a71\u4e4b\u5916\uff0c\u4e5f\u53ef\u80fd\u7528\u4e00\u500b System Call\uff0c\u5728\u756b\u9762\u4e2d\u8df3\u51fa\u4e00\u4efd\u83dc\u55ae\uff0c\u9664\u4e86\u53ef\u4ee5\u7528\u8a9e\u97f3\u56de\u7b54\u4e4b\u5916\uff0c\u4e5f\u53ef\u4ee5\u7528\u9ede\u64ca\u7684\u65b9\u5f0f\u9078\u64c7\uff0c\u6211\u5011\u6216\u8a31\u4e5f\u53ef\u4ee5\u8a2d\u8a08\u50cf\u300c\u524d\u4e00\u500b\u300d\u3001\u300c\u4e0b\u4e00\u500b\u300d\u3001\u300c\u524d\u4e00\u9801\u300d\u3001\u300c\u4e0b\u4e00\u9801\u300d\u7b49\u547d\u4ee4\uff0c\u800c\u9019\u4e9b\u547d\u4ee4\uff0c\u4e5f\u90fd\u6703\u8b93 GUI \u56e0\u6b64\u6539\u52d5\u3002</p> <p>\u5728\u505a GUI/VUI \u6df7\u5408\u7684\u7522\u54c1\u8a2d\u8a08\u6642\uff0c\u9664\u4e86 VUI flow \u672c\u8eab\u7684 Activity Diagram \u4e4b\u5916\uff0c\u4e5f\u9700\u8981\u8a2d\u8a08 GUI \u7684 Wire Frame \u6216\u662f Mockup\uff0c\u5169\u8005\u4e92\u76f8\u642d\u914d\u3002\u81f3\u65bc GUI \u958b\u767c\uff0c\u5247\u8207\u5927\u591a\u7684 Flutter \u61c9\u7528\u958b\u767c\u904e\u7a0b\u7121\u7570\uff0c\u5728\u9019\u88e1\u4e0d\u8d05\u8ff0\u3002</p>"},{"location":"next_steps/#_2","title":"\u66f4\u591a\u4e0d\u540c\u7684\u5be6\u4f5c","text":"<p>\u6211\u5011\u73fe\u5728\u4f7f\u7528\u4e00\u4e9b Flutter \u672c\u8eab\u63d0\u4f9b\u7684 ASR \u8207 TTS \u5957\u4ef6\uff0c\u52a0\u4e0a Gemini API \u63d0\u4f9b NLU/NLG \u529f\u80fd\uff0c\u4e0d\u904e\uff0c\u6211\u5011\u4e0d\u898b\u5f97\u60f3\u4f7f\u7528\u9019\u4e9b\u5957\u4ef6\u6216\u670d\u52d9\u3002\u7531\u65bc\u5728\u9019\u500b\u67b6\u69cb\u4e2d\uff0c ASR\u3001TTS\u3001NLU \u8207 NLG\uff0c\u90fd\u662f interface\uff0c\u56e0\u6b64\uff0c\u53ea\u8981\u6309\u7167\u9019\u4e9b interface \u5be6\u4f5c\uff0c\u90fd\u53ef\u4ee5\u66ff\u63db\u6389\u539f\u672c\u7684\u5957\u4ef6\u3002</p>"},{"location":"next_steps/#wake-up","title":"\u559a\u9192\uff08Wake-up\uff09","text":"<p>\u6211\u5011\u5728\u9019\u88e1\u4e26\u6c92\u6709\u63d0\u4f9b\u559a\u9192\u529f\u80fd\u3002\u5728\u559a\u9192\u7cfb\u7d71\u7684\u6642\u5019\uff0c\u6703\u9700\u8981\u4e00\u5957\u559a\u9192\u8a5e\uff08Wake-up Word\uff09\uff0c\u5e38\u898b\u7684\u559a\u9192\u6642\u5c31\u662f\u300cHey Siri\u300d\u3001\u300cOK Google\u300d\u3001\u300cAlexa\u300d\u7b49\uff0c\u8a9e\u97f3\u52a9\u7406\u5e73\u5e38\u8655\u65bc\u4e00\u7a2e\u7b49\u5f85\u72c0\u614b\uff0c\u96d6\u7136\u5728\u9304\u97f3\uff0c\u4f46\u662f\u4e26\u4e0d\u505a\u8907\u96dc\u7684\u8b58\u5225\uff0c\u53ea\u5075\u6e2c\u5728\u8def\u5230\u7684\u8072\u97f3\u7576\u4e2d\u662f\u5426\u7b26\u5408\u4e0a\u8ff0\u9019\u4e9b\u559a\u9192\u8a5e\uff0c\u5982\u679c\u6709\uff0c\u624d\u9032\u5165 ASR \u8b58\u5225\u72c0\u614b\uff0c\u958b\u59cb\u5617\u8a66\u8b58\u5225\u5b8c\u6574\u7684\u6587\u5b57\u3002\u96d6\u7136\u5728\u5f88\u591a\u61c9\u7528\u4e2d\uff0c\u4e26\u4e0d\u9700\u8981\u7528\u9019\u7a2e\u65b9\u5f0f\u555f\u52d5\u8a9e\u97f3\u52a9\u7406\uff0c\u4f46\u6216\u8a31\u60a8\u6703\u6709\u9019\u7a2e\u9700\u6c42\u3002</p> <p>\u5728 Flutter \u63d0\u4f9b\u7684\u5957\u4ef6\u4e2d\uff0c\u5176\u5be6\u4e26\u6c92\u6709\u7279\u5225\u662f\u5408\u958b\u767c\u559a\u9192\u529f\u80fd\u7684\u5957\u4ef6\u3002\u559a\u9192\u529f\u80fd\u7684\u8981\u6c42\u662f\u7701\u96fb\uff0c\u800c\u4e14\u907f\u514d\u9023\u63a5\u7db2\u8def\uff0c\u964d\u4f4e\u4f7f\u7528\u8005\u7684\u8a2d\u5099\u7684\u8017\u96fb\u4ee5\u53ca\u7db2\u8def\u8cbb\u7528\uff0c\u4f46\u662f\u50cf iOS/Android \u7cfb\u7d71\u6240\u63d0\u4f9b\u7684\u7cfb\u7d71\u8a9e\u97f3\u8b58\u5225\uff0c\u80cc\u5f8c\u901a\u5e38\u90fd\u9023\u63a5\u5230\u7279\u5b9a\u7684\u7db2\u8def\u670d\u52d9\u4e0a\uff0c\u800c\u4e14\u6bcf\u4e00\u6b21\u8b58\u5225\u90fd\u6709\u6642\u9593\u4e0a\u9650\uff0c\u4e0d\u9069\u5408\u9577\u6642\u9593\u8655\u65bc\u9592\u7f6e\u72c0\u614b\uff0c\u800c\u4e14\u6bcf\u5929\u6bcf\u500b app \u53ef\u4ee5\u958b\u555f\u8b58\u5225\u7684\u6b21\u6578\u4e5f\u6709\u9650\u5236\uff0c\u5927\u7d04\u4e00\u5929 2000 \u6b21\u5de6\u53f3\uff08\u9019\u500b\u6b21\u6578\u53ef\u80fd\u96a8\u6642\u6703\u6709\u8b8a\u5316\uff09\u3002</p> <p>\u56e0\u6b64\uff0c\u5982\u679c\u60a8\u7684 app \u6709\u4f7f\u7528\u559a\u9192\u8a5e\u7684\u9700\u6c42\uff0c\u5927\u6982\u9084\u662f\u8981\u501a\u8cf4\u6709\u559a\u9192\u6280\u8853\u7684\u4f9b\u61c9\u5546\u3002</p>"},{"location":"nlg_nlg_gemini/","title":"\u8b93 Gemini \u6210\u70ba NLU \u8207 NLG \u5f15\u64ce","text":"<p>\u9019\u4e00\u7bc0\u4e2d\uff0c\u6703\u8aaa\u660e\u5982\u4f55\u5be6\u4f5c\u6211\u5011\u7684 NLU \u8207 NLG \u5f15\u64ce\u3002\u9019\u88e1\u4f7f\u7528 Gemini \u793a\u7bc4\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5176\u4ed6\u7684 LLM\u3002</p>"},{"location":"nlg_nlg_gemini/#intent-slots-prompt","title":"\u62bd\u53d6 Intent \u8207 Slots \u7684 Prompt","text":"<p>\u8b93\u4ea4\u8ac7\u5f0f\u7684 LLM \u6210\u70ba NLU \u5f15\u64ce\u5176\u5be6\u5341\u5206\u7c21\u55ae\uff0c\u5c31\u662f\u4e0b\u9054\u8207\u4ee5\u4e0b\u985e\u4f3c\u7684 prompt\uff1a\u300c\u8acb\u5e6b\u6211\u5f9e\u4ee5\u4e0b\u9019\u53e5\u8a71\u7576\u4e2d\u62bd\u53d6\u51fa Intent \u8207 Slots\uff0c\u7136\u5f8c\u8f38\u51fa\u6210 JSON \u683c\u5f0f\uff0c\u4e0d\u8981\u5176\u4ed6\u7684\u8f38\u51fa\u5167\u5bb9\u300d\u3002</p> <p>\u6211\u5011\u53ef\u4ee5\u5728 Gemini \u6216\u662f Google AI Studio \u7684\u7db2\u9801\u4ecb\u9762\u4e2d\uff0c\u5c31\u53ef\u4ee5\u8a66\u8a66\u770b\u6211\u5011\u7684 prompt\u3002\u4e0b\u5716\u4e2d\uff0c\u6211\u5011\u5617\u8a66\u8f38\u5165\u300c\u5c0e\u822a\u5230\u53f0\u5317\u52d5\u7269\u5712\u300d\u9019\u53e5\u8a71\u3002</p> <p></p> <p>Gemini \u5e6b\u6211\u5011\u6210\u529f\u62bd\u53d6\u51fa\u300cnavigation\u300d\u9019\u500b\u610f\u5716\uff0c\u540c\u6642\u4e5f\u62bd\u53d6\u4e86\u76ee\u7684\u5730\u662f\u300c\u53f0\u5317\u52d5\u7269\u5712\u300d\u3002\u4e0d\u904e\uff0c\u8f38\u51fa\u7d50\u679c\u6bd4\u6211\u5011\u9810\u671f\u5f97\u9084\u591a\uff0c\u591a\u51fa\u4e86 JSON \u4ee5\u5916\u7684\u5730\u5716\u90e8\u5206\uff0c\u4f46\u9019\u6c92\u95dc\u4fc2\uff0c\u6211\u5011\u53ef\u4ee5\u7528\u7528\u4e00\u500b Regular Expression \u6355\u6349\u8f38\u51fa\u7d50\u679c\u4e2d\u7684 JSON \u90e8\u5206\uff0c\u7136\u5f8c\u7528 Dart \u672c\u8eab\u7684 JSON parser\uff0c\u8f49\u63db\u6210\u6211\u5011\u9700\u8981\u7684 Dart Map \u7269\u4ef6\u3002</p>"},{"location":"nlg_nlg_gemini/#intent","title":"\u9650\u5236 Intent \u7684\u540d\u7a31","text":"<p>\u5728\u4e0a\u9762\u7684\u7bc4\u4f8b\u4e2d\uff0c\u6211\u5011\u96d6\u7136\u8b93 Gemini \u62bd\u53d6\u51fa\u4e86 Intent\uff0c\u4f46\u662f Intent \u662f\u4ec0\u9ebc\u540d\u7a31\uff0c\u5b8c\u5168\u8b93 Gemini \u6c7a\u5b9a\uff0c\u5f88\u6709\u53ef\u80fd\u6bcf\u6b21 Gemini \u8f38\u51fa\u7684\u7d50\u679c\u5c31\u6703\u4e0d\u592a\u4e00\u6a23\uff0c\u50cf\u662f\u53ef\u80fd\u5927\u5c0f\u5beb\u4e0d\u4e00\uff0c\u53ef\u80fd navigation \u8b8a\u6210\u5927\u5beb\u7684 Navigation \u6216 NAVIGATION\u3002\u6240\u4ee5\uff0c\u6211\u5011\u53ef\u4ee5\u591a\u505a\u4e00\u4e9b\u88dc\u5145\uff0c\u8b93 Gemini \u76e1\u53ef\u80fd\u7522\u751f\u7b26\u5408\u6211\u5011\u9810\u671f\u7684\u7d50\u679c\u3002</p> <p>\u6bd4\u65b9\u8aaa\uff0c\u6211\u5011\u5e0c\u671b\u5c0e\u822a\u7684\u610f\u5716\u56fa\u5b9a\u662f\u5927\u5beb\u7684\uff0c\u7136\u5f8c\u5c0e\u822a\u7684\u5730\u9ede\u5f9e destination \u9019\u500b\u5b57\u8b8a\u6210 Place\uff0c\u6211\u5011\u5c31\u53ef\u4ee5\u5728\u4e0a\u9762\u7684 prompt \u7576\u4e2d\uff0c</p> <p></p> <p>\u5728 Gemini \u7684\u8f38\u51fa\u7d50\u679c\u4e2d\uff0c\u5c31\u6210\u70ba\u6211\u5011\u6240\u9810\u671f\u6307\u5b9a\u7684 Intent \u8207 Slot \u540d\u7a31\u4e86\u3002</p>"},{"location":"nlg_nlg_gemini/#_1","title":"\u8655\u7406\u7701\u7565\u6307\u4ee3","text":"<p>\u5728\u6211\u5011\u7684\u65e5\u5e38\u5c0d\u8a71\u4e2d\uff0c\u6211\u5011\u7d93\u5e38\u6703\u7528\u5230\u6307\u4ee3\uff0c\u50cf\u662f\u300c\u4ed6\u300d\u3001\u300c\u5979\u300d\u3001\u300c\u5b83\u300d\u7b49\u7b49\uff0c\u4ee3\u8868\u67d0\u500b\u5177\u9ad4\u7684\u4eba\u6216\u662f\u7269\u54c1\uff0c\u6216\u662f\u7528\u300c\u4eca\u5929\u300d\u3001\u300c\u6628\u5929\u300d\u3001\u300c\u660e\u5929\u300d\uff0c\u4ee3\u66ff\u67d0\u500b\u5177\u9ad4\u7684\u65e5\u671f\u3002\u5982\u679c\u53ea\u662f\u7528\u4e0a\u9762\u7684 prompt\uff0cGemini \u4ecd\u7136\u53ef\u4ee5\u5e6b\u52a9\u6211\u5011\u62bd\u53d6\u51fa\u9019\u4e9b Slot\uff0c</p> <p>\u6bd4\u65b9\u8aaa\uff0c\u6211\u5011\u60f3\u8981\u8655\u7406\u300c\u6211\u8981\u8a02\u5341\u676f\u5496\u5561\uff0c\u7136\u5f8c\u660e\u5929\u4e0b\u5348\u4e09\u9ede\u9001\u5230\u53f0\u5317\u52d5\u7269\u5712\u300d\u9019\u53e5\u8a71\uff0cGemini \u7d66\u6211\u5011\u7684\u7d50\u679c\u5982\u4e0b\uff1a</p> <p></p> <p>\u300c\u4e0b\u5348\u4e09\u9ede\u300d\u8207\u300c\u660e\u5929\u300d\u4e26\u4e0d\u592a\u65b9\u4fbf\u6211\u5011\u505a\u5f8c\u7e8c\u7684\u8655\u7406\uff0c\u9664\u4e86\u8981\u628a\u300c\u4e0b\u5348\u4e09\u9ede\u300d\u5f9e\u4e2d\u6587\u8f49\u63db\u6210\u4e00\u822c\u7a0b\u5f0f\u7684\u6642\u9593\u683c\u5f0f\u5916\uff0c\u9084\u9700\u8981\u5f9e\u300c\u660e\u5929\u300d\u4e2d\u63a8\u7b97\u51fa\u78ba\u5be6\u7684\u65e5\u671f\u3002\u4f46\uff0c\u6211\u5011\u53ef\u4ee5\u5728 prompt \u7576\u4e2d\u591a\u63d0\u4f9b\u4e00\u4e9b\u7dda\u7d22\uff0cGemini \u5c31\u53ef\u4ee5\u5e6b\u6211\u5011\u9810\u5148\u8655\u7406\u597d\u3002\u50cf\u662f\uff0c\u6211\u5011\u5c31\u53ef\u4ee5\u544a\u8a34 Gemini \u4eca\u5929\u662f\u54ea\u4e00\u5929\uff0c\u7136\u5f8c\u8981\u6c42\u628a\u65e5\u671f\u90fd\u8f49\u63db\u6210\u897f\u66c6\u3002</p> <p></p> <p>\u4f46\u5f88\u591a\u6642\u5019\uff0c\u6211\u5011\u4e0d\u80fd\u5920\u4fe1\u8cf4 Gemini \u6216\u662f\u5404\u7a2e LLM \u7684\u80fd\u529b\uff0c\u6bd4\u65b9\u8aaa\uff0c\u6211\u5011\u73fe\u5728\u8caa\u5fc3\u4e00\u9ede\uff0c\u9084\u60f3\u5c07\u65e5\u671f\u8f49\u63db\u8f49\u63db\u6210 UNIX timestamp\uff0c\u7d50\u679c\u7522\u751f\u4e86 <code>1657548000</code>\uff0c\u4f46\u9019\u5176\u5be6\u662f\u4e00\u500b 2022 \u5e74\u7684\u65e5\u671f\uff0c\u9019\u5c31\u4e0d\u662f\u6211\u5011\u6240\u9810\u671f\u7684\u7d50\u679c\uff0c\u800c\u4e14\u6703\u9020\u6210\u5f8c\u9762\u7cfb\u7d71\u7684\u932f\u4e82\u3002</p> <p></p> <p>\u8981\u589e\u52a0\u54ea\u4e9b\u984d\u5916\u7684 prompt\uff0c\u5176\u5be6\u8207\u6211\u5011\u8a08\u756b\u8b93\u6211\u5011\u7684\u8a9e\u97f3\u52a9\u7406\u6709\u591a\u5c11\u80fd\u529b\u6709\u95dc\u3002\u5728\u524d\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u5982\u679c\u6211\u5011\u7684\u8a9e\u97f3\u52a9\u7406\u53ea\u9700\u8981\u8ca0\u8cac\u5c0e\u822a\u76f8\u95dc\u7684\u5de5\u4f5c\uff0c\u90a3\u9ebc\u5728\u8655\u7406\u8a02\u55ae\u76f8\u95dc\u7684\u9019\u4e9b\u8ddf\u65e5\u671f\u6709\u95dc\u7684\u8655\u7406\uff0c\u5176\u5be6\u90fd\u662f\u4e0d\u9700\u8981\u7684\uff0c\u6240\u4ee5\uff0c\u6211\u5011\u7684 NLU \u5f15\u64ce\uff0c\u61c9\u8a72\u5177\u5099\u52d5\u614b\u6839\u64da\u9700\u6c42\uff0c\u8abf\u6574\u4f7f\u7528\u4e0d\u540c\u7684 prompt \u80fd\u529b\u3002</p>"},{"location":"nlg_nlg_gemini/#gemini-nlu","title":"\u5be6\u4f5c\u57fa\u65bc Gemini \u7684 NLU \u5f15\u64ce","text":"<p>\u4e00\u500b\u57fa\u65bc Gemini \u7684 NLU \u5f15\u64ce\u7684\u5be6\u4f5c\u5982\u4e0b\u3002\u7531\u65bc\u4f7f\u7528 Gemini \u9700\u8981\u4e00\u628a API key\uff0c\u6211\u5011\u8a2d\u8a08\u4e86\u53ef\u4ee5\u50b3\u5165 API key \u7684\u4ecb\u9762\u3002</p> <pre><code>import 'dart:convert';\n\nimport 'package:google_generative_ai/google_generative_ai.dart';\nimport 'package:meta/meta.dart';\n\nimport '../interface/nlu_engine.dart';\n\n@immutable\nclass GeminiNluEngineError implements Exception {\n  final String message;\n\n  const GeminiNluEngineError(this.message);\n\n  @override\n  String toString() {\n    return '${super.toString()} $message';\n  }\n}\n\nclass GeminiNluEngine extends NluEngine {\n  final String apiKey;\n  GeminiNluEngine({\n    required this.apiKey,\n  });\n\n  @override\n  Future&lt;NluIntent&gt; extractIntent(\n    String utterance, {\n    String? currentIntent,\n    String? additionalRequirement,\n  }) async {\n    final model = GenerativeModel(\n      model: 'gemini-1.5-flash-latest',\n      apiKey: apiKey,\n    );\n\n    var prompt =\n        'Extract the intent and the slots for the sentence:\\n\\n$utterance\\n\\n';\n    prompt += \"The output is in JSON without any formatting.\";\n    prompt += \"Valid intents are including: ${availableIntents.join(',')}.\";\n    if (currentIntent != null) {\n      prompt += \"The current indent is $currentIntent.\";\n    }\n    prompt += \"Valid slots are including: ${availableSlots.join(',')}.\";\n    prompt += \"If the intent is not in the valid intents, return null.\";\n    if (additionalRequirement != null) {\n      prompt += additionalRequirement;\n    }\n\n    final content = [Content.text(prompt)];\n    final response = await model.generateContent(content);\n    final string = response.text;\n    if (string == null) {\n      throw const GeminiNluEngineError('Failed to generate response.');\n    }\n    final RegExp regex = RegExp(r'\\{.*\\}');\n    final match = regex.firstMatch(string);\n    if (match == null) {\n      throw GeminiNluEngineError(\n          'Failed to extract response from string $string.');\n    }\n    final jsonString = match.group(0);\n    if (jsonString == null) {\n      throw GeminiNluEngineError(\n          'Failed to extract response from jsonString $jsonString.');\n    }\n    final map = json.decode(jsonString);\n    final intent = NluIntent.fromMap(map);\n    return intent;\n  }\n}\n</code></pre> <p>\u6709\u4e86\u9019\u500b\u5f15\u64ce\u4e4b\u5f8c\uff0c\u6211\u5011\u53ef\u4ee5\u5beb\u9ede\u55ae\u5143\u6e2c\u8a66\uff0c\u8a66\u8a66\u770b\u662f\u5426\u53ef\u4ee5\u7522\u751f\u7b26\u5408\u6211\u5011\u9810\u671f\u7684\u610f\u5716\uff1a</p> <pre><code>import 'package:flutter_dialog/flutter_dialog.dart';\nimport 'package:flutter_test/flutter_test.dart';\n\nconst key = 'YOUR GEMINI API KEY';\n\nvoid main() {\n  test('Test intent for LeaveApplication 1', () async {\n    final engine = GeminiNluEngine(apiKey: key);\n    engine.availableIntents = {'LeaveApplication'};\n    engine.availableSlots = {'Reason', 'Date'};\n    final result = await engine.extractIntent('\u6211\u751f\u75c5\u4e86\uff0c\u4eca\u5929\u5fc5\u9808\u8981\u8acb\u5047');\n    expect(result.intent, 'LeaveApplication');\n  });\n}\n</code></pre>"},{"location":"nlg_nlg_gemini/#gemini-nlg","title":"\u5be6\u4f5c\u57fa\u65bc Gemini \u7684 NLG \u5f15\u64ce","text":"<p>\u6211\u5011\u6703\u5728\u5e7e\u7a2e\u72c0\u6cc1\u4e0b\u7528\u5230 NLG \u5f15\u64ce\u3002\u6216\u662f\u6211\u5011\u5728\u7121\u6cd5\u53d6\u5f97\u53ef\u4ee5\u7528\u4f86\u57f7\u884c\u4efb\u52d9\u7684\u610f\u5716\u6642\uff0c\u5e6b\u4f7f\u7528\u8005\u7522\u751f\u4e00\u500b\u56de\u61c9\uff0c\u6216\u662f\uff0c\u5728\u4e00\u500b\u5c0d\u8a71\u904e\u7a0b\u4e2d\uff0c\u9700\u8981\u85c9\u7531 NLG \u5f15\u64ce\u7684\u80fd\u529b\uff0c\u7522\u751f\u7b26\u5408\u7576\u6642\u60c5\u666f\u7684\u56de\u7b54\uff0c\u50cf\u662f\u9ede\u9910\u7cfb\u7d71\u5728\u7d50\u675f\u6642\u795d\u798f\u4f7f\u7528\u8005\u7528\u9910\u6109\u5feb\u3001\u6216\u662f\u639b\u865f\u7cfb\u7d71\u795d\u798f\u65e9\u65e5\u5eb7\u5fa9\u7b49\u3002\u6240\u4ee5\uff0c\u6211\u5011\u7684\u8f38\u5165\u5c31\u6703\u6709\u5169\u7a2e\u8def\u5f91\u3002\u4e00\u500b\u57fa\u65bc Gemion \u7684 NLG \u5f15\u64ce\u7684\u5be6\u4f5c\u5982\u4e0b\uff1a</p> <pre><code>import 'package:google_generative_ai/google_generative_ai.dart';\n\nimport '../interface/nlg_engine.dart';\n\n/// The Gemini based NLG (Natural Language Generating) engine.\nclass GeminiNlgEngine extends NlgEngine {\n  /// The API key.\n  final String apiKey;\n\n  /// Creates a new instance.\n  GeminiNlgEngine({\n    required this.apiKey,\n  });\n\n  @override\n  Future&lt;String?&gt; generateResponse(\n    String utterance, {\n    bool useDefaultPrompt = true,\n    bool? preventMeaningLessMessage,\n  }) async {\n    final model = GenerativeModel(\n      model: 'gemini-1.5-flash-latest',\n      apiKey: apiKey,\n    );\n\n    var prompt = utterance;\n\n    if (useDefaultPrompt) {\n      prompt = 'Create a response for the sentence:\\n\\n$utterance\\n\\n';\n      prompt += 'The response should be less than 30 words.\\n';\n      prompt += 'The response should not be another question.\\n';\n      prompt += 'The response should not contain emoji.\\n';\n      if (preventMeaningLessMessage == true) {\n        prompt += 'If the sentence is lacking of context.'\n            ' Just say you do not understand'\n            ' using the same language as the incoming sentence.';\n      }\n    }\n\n    final content = [Content.text(prompt)];\n    final response = await model.generateContent(content);\n    return response.text;\n  }\n}\n</code></pre> <p>\u6211\u5011\u901a\u5e38\u9700\u8981\u544a\u8a34 Gemini \u4e0d\u8981\u5728\u56de\u61c9\u4e2d\u4f7f\u7528\u984f\u6587\u5b57\uff0c\u4e0d\u7136 TTS \u6703\u628a\u9019\u4e9b\u984f\u6587\u5b57\u4e00\u8d77\u5ff5\u51fa\u4f86\uff0c\u6548\u679c\u6703\u5f88\u5947\u602a\u3002</p>"},{"location":"nlg_nlg_gemini/#nlu","title":"\u9032\u4e00\u6b65\u7684 NLU \u5206\u6790\u8207\u61c9\u7528","text":"<p>\u5c0d\u4e00\u500b\u57fa\u672c\u7684\u8a9e\u97f3\u52a9\u7406\u4f86\u8aaa\uff0c\u6211\u5011\u53ea\u9700\u8981 Intent \u8207 Slots\uff0c\u4e0d\u904e\uff0c\u50cf Gemini \u9019\u6a23\u7684\u8a9e\u8a00\u6a21\u578b\uff0c\u5176\u5be6\u53ef\u4ee5\u5e6b\u6211\u5011\u5206\u6790\u51fa\u5fc3\u60c5\u3001\u8a9e\u6c23\u7b49\u8cc7\u8a0a\uff0c\u4ee5\u4e0b\u662f\u4e00\u500b\u7c21\u55ae\u7684\u4f8b\u5b50\uff1a</p> <p></p> <p>\u5982\u679c\u6211\u5011\u5e0c\u671b\u6211\u5011\u7684\u8a9e\u97f3\u52a9\u7406\u66f4\u64ec\u4eba\uff0c\u4e5f\u53ef\u4ee5\u6839\u64da\u4f7f\u7528\u8005\u7684\u5fc3\u60c5\uff0c\u7d66\u4e88\u4e0d\u540c\u7684\u56de\u61c9\uff0c\u50cf\u662f\u767c\u73fe\u4f7f\u7528\u8005\u8b1b\u7684\u8a71\u5be6\u5728\u592a\u904e\u6c92\u79ae\u8c8c\uff0c\u6216\u8a31\u53ef\u4ee5\u9078\u64c7\u4e0d\u56de\u61c9\uff0c\u6216\u662f\u544a\u8a34\u4f7f\u7528\u8005\u4e0d\u8a72\u9019\u6a23\u8b1b\u8a71\u3002\u9019\u4e9b\u90fd\u662f\u6211\u5011\u5728\u7522\u54c1\u8a2d\u8a08\u4e0a\u53ef\u4ee5\u7528\u5230\u7684\u8cc7\u8a0a\u3002</p> <p>\u751a\u81f3\uff0c\u6211\u5011\u53ef\u4ee5\u6839\u64da\u4f7f\u7528\u8005\u8b1b\u7684\u4e0d\u540c\u5167\u5bb9\uff0c\u8acb Gemini \u63d0\u4f9b UI \u914d\u8272\u7684\u5efa\u8b70\u3002</p> <p></p>"},{"location":"nlg_nlg_gemini/#chatgpt","title":"ChatGPT","text":"<p>\u6211\u5011\u4e5f\u53ef\u4ee5\u4f7f\u7528 ChatGPT\uff0c\u5be6\u4f5c NLU \u8207 NLG \u5f15\u64ce\u3002\u4ee5\u4e0b\u662f\u4ee5 ChatGPT \u5be6\u4f5c NLG \u5f15\u64ce\u7684\u7bc4\u4f8b\uff1a</p> <pre><code>import 'dart:convert';\nimport 'package:dart_openai/dart_openai.dart';\nimport '../interface/nlu_engine.dart';\n\nclass ChatgptNluEngine extends NluEngine {\n  final String chatGptModel;\n\n  /// Creates a new instance.\n  ChatgptNluEngine({\n    this.chatGptModel = \"gpt-3.5-turbo-1106\",\n  });\n\n  @override\n  Future&lt;bool&gt; init() async =&gt; true;\n\n  @override\n  Future&lt;NluIntent&gt; extractIntent(String utterance,\n      {String? currentIntent, String? additionalRequirement}) async {\n    var systemPrompt = \"return any message you are given as JSON.\";\n    if (currentIntent != null) {\n      systemPrompt += \"The current indent is $currentIntent.\";\n    }\n    systemPrompt +=\n        \"Valid intents are including: ${availableIntents.join(',')}.\";\n    systemPrompt += \"Valid slots are including: ${availableSlots.join(',')}.\";\n    systemPrompt += \"Intents are in Pascal case.\";\n    systemPrompt += \"If the intent is not in the valid intents, return null.\";\n    if (additionalRequirement != null) {\n      systemPrompt += additionalRequirement;\n    }\n\n    final systemMessage = OpenAIChatCompletionChoiceMessageModel(content: [\n      OpenAIChatCompletionChoiceMessageContentItemModel.text(systemPrompt),\n    ], role: OpenAIChatMessageRole.assistant);\n\n    var prompt =\n        'Extract the intent and the slots for the sentence:\\n\\n$utterance\\n\\n';\n\n    final userMessage = OpenAIChatCompletionChoiceMessageModel(content: [\n      OpenAIChatCompletionChoiceMessageContentItemModel.text(prompt)\n    ], role: OpenAIChatMessageRole.user);\n\n    final requestMessages = [\n      systemMessage,\n      userMessage,\n    ];\n\n    final chatCompletion = await OpenAI.instance.chat.create(\n      model: chatGptModel,\n      responseFormat: {\"type\": \"json_object\"},\n      seed: 6,\n      messages: requestMessages,\n      temperature: 0.2,\n      maxTokens: 500,\n    );\n\n    final responseText =\n        chatCompletion.choices.first.message.content?.first.text;\n    if (responseText is! String) {\n      throw Exception('Failed to extract message from chat completion.');\n    }\n    final map = json.decode(responseText);\n    final intent = NluIntent.fromMap(map);\n    return intent;\n  }\n\n  @override\n  bool get isInitialized =&gt; true;\n}\n</code></pre>"},{"location":"packages/","title":"\u53ef\u7528\u7684 Flutter \u5957\u4ef6","text":"<p>\u5728\u9032\u5165\u5be6\u4f5c ASR\u3001NLU\u3001NLG\u3001TTS \u7684\u5957\u4ef6\u4e4b\u524d\uff0c\u6211\u5011\u5148\u4f86\u770b\u770b Flutter \u6709\u54ea\u4e9b\u5957\u4ef6\u53ef\u4ee5\u7528\u4f86\u5be6\u4f5c\u9019\u4e9b\u529f\u80fd\u3002\u57fa\u672c\u4e0a\uff0c\u6211\u5011\u4f7f\u7528 speech\u3001TTS\u3001\u7b49\u95dc\u9375\u5b57\uff0c\u5c31\u53ef\u4ee5\u5728 Dart Pub \u4e0a\u627e\u5230\u8a31\u591a\u5957\u4ef6\u3002</p>"},{"location":"packages/#asr","title":"ASR \u76f8\u95dc\u5957\u4ef6","text":"<ul> <li>speech_to_text\uff1a\u652f\u63f4 iOS\u3001Android \u4ee5\u53ca Web \u7684\u8a9e\u97f3\u8fa8\u8b58\u5957\u4ef6\u3002\u9019\u500b\u5957\u4ef6\u4e3b\u8981\u7528\u5e73\u53f0\u539f\u751f\u7684\u8a9e\u97f3\u8fa8\u8b58\u529f\u80fd\u3002\u5728\u4f7f\u7528\u9019\u500b\u65b9\u6848\u6642\uff0c\u958b\u767c\u8005\u4e0d\u7528\u652f\u4ed8\u984d\u5916\u7684\u670d\u52d9\u8cbb\u7528\uff0c\u9019\u4e5f\u662f\u76ee\u524d\u5728 Dart Pub \u4e0a\u8a55\u5206\u6700\u9ad8\u3001\u6700\u6d41\u884c\u7684\u8a9e\u97f3\u8fa8\u8b58\u5957\u4ef6\u3002</li> <li>google_speech\uff1a\u4f7f\u7528 Google \u96f2\u7aef\u670d\u52d9\u7684\u8a9e\u97f3\u8fa8\u8b58\u5957\u4ef6\u3002</li> <li>azure_speech_recognition_null_safety\uff1a\u4f7f\u7528 Azure \u96f2\u7aef\u670d\u52d9\u7684\u8a9e\u97f3\u8fa8\u8b58\u5957\u4ef6\u3002</li> <li>openai_api\uff1a\u7576\u4e2d\u5305\u542b\u4e86 OpenAI \u7684\u8a9e\u97f3\u8fa8\u8b58\u670d\u52d9\u3002</li> <li>dart_openai\uff1a\u53e6\u5916\u4e00\u5957 OpenAI API \u7684\u5be6\u4f5c\u3002</li> <li>ifly_speech_recognition\uff1a\u79d1\u5927\u8a0a\u98db\u662f\u4e00\u5bb6\u5c0d\u5cb8\u7684\u8a9e\u97f3\u670d\u52d9\u516c\u53f8\uff0c\u4e5f\u63d0\u4f9b\u4e86\u9023\u63a5\u4ed6\u5011\u7684\u670d\u52d9\u7684 Flutter \u5957\u4ef6\u3002</li> </ul> <p>\u5728\u4f7f\u7528\u9019\u4e9b\u5957\u4ef6\u6642\uff0c\u5f80\u5f80\u9084\u9700\u8981\u4e00\u4e9b\u984d\u5916\u7684\u6b0a\u9650\u8207\u96b1\u79c1\u8a2d\u5b9a\u3002\u50cf\u662f iOS \u4e0a\u53ef\u80fd\u9700\u8981\u5728 Info.plist \u4e2d\u8a2d\u5b9a <code>NSMicrophoneUsageDescription</code> \u8207 <code>NSSpeechRecognitionUsageDescription</code>\uff0c\u544a\u77e5\u4f7f\u7528\u8005\u70ba\u4ec0\u9ebc\u8981\u4f7f\u7528\u9ea5\u514b\u98a8\u8207\u8a9e\u97f3\u8fa8\u8b58\u6b0a\u9650\u3002\u800c\u5728 Android \u4e0a\uff0c\u53ef\u80fd\u9700\u8981\u5728 AndroidManifest.xml \u4e2d\u8a2d\u5b9a <code>RECORD_AUDIO</code> \u6b0a\u9650\uff0c\u800c\u5982\u679c\u6211\u5011\u60f3\u8981\u7528\u85cd\u82bd\u88dd\u7f6e\u9304\u97f3\uff0c\u90a3\u53ef\u80fd\u9084\u8981\u984d\u5916\u8a2d\u5b9a <code>BLUETOOTH</code> \u6b0a\u9650\u3002\u4f7f\u7528\u6642\u8acb\u5148\u770b\u9019\u4e9b\u5957\u4ef6\u7684\u8aaa\u660e\u3002</p>"},{"location":"packages/#tts","title":"TTS \u76f8\u95dc\u5957\u4ef6","text":"<ul> <li>flutter_tts\uff1a\u652f\u63f4 iOS\u3001Android\u3001Web\u3001macOS \u8207 Windows \u6587\u5b57\u8f49\u8a9e\u97f3\u5957\u4ef6\u3002\u4e00\u6a23\u4f7f\u7528\u5e73\u53f0\u539f\u751f\u7684\u8a9e\u97f3\u5408\u6210\u529f\u80fd\uff0c\u56e0\u6b64\u958b\u767c\u8005\u4e0d\u7528\u652f\u4ed8\u984d\u5916\u7684\u670d\u52d9\u8cbb\u7528\uff0c\u9019\u4e5f\u662f\u76ee\u524d\u5728 Dart Pub \u4e0a\u8a55\u5206\u6700\u9ad8\u3001\u6700\u6d41\u884c\u7684\u6587\u5b57\u8f49\u8a9e\u97f3\u5957\u4ef6\u3002</li> <li>text_to_speech\uff1a\u652f\u63f4 iOS\u3001Android\u3001Web \u8207 macOS\u3002</li> <li>galli_text_to_speech\uff1a\u53e6\u5916\u4e00\u5957\u652f\u63f4 iOS\u3001Android\u3001Web \u8207 macOS \u7684\u6587\u5b57\u8f49\u8a9e\u97f3\u5957\u4ef6\u3002</li> <li>cloud_text_to_speech\uff1a\u4ecb\u63a5\u4e86 Google\u3001\u5fae\u8edf\u4ee5\u53ca Amazon \u7684\u6587\u5b57\u8f49\u8a9e\u97f3\u96f2\u7aef\u670d\u52d9\u7684\u5957\u4ef6\u3002</li> <li>flutter_azure_tts\uff1a\u4f7f\u7528 Azure \u96f2\u7aef\u670d\u52d9\u7684\u6587\u5b57\u8f49\u8a9e\u97f3\u5957\u4ef6\u3002</li> <li>openai_api\uff1a\u7576\u4e2d\u5305\u542b\u4e86 OpenAI \u7684\u6587\u5b57\u8f49\u8072\u97f3\u670d\u52d9\u3002</li> </ul> <p>\u5728 Dart Pub \u4e0a\uff0c\u6211\u5011\u9084\u53ef\u4ee5\u770b\u5230\u6709\u4eba\u4ecb\u63a5\u4e86\u9a30\u8a0a\u3001\u767e\u5ea6\u3001\u79d1\u5927\u8a0a\u98db\u7b49\u516c\u53f8\u7684\u6587\u5b57\u8f49\u8a9e\u97f3\u670d\u52d9\uff0c\u4e0d\u904e\u770b\u8d77\u4f86\u4e00\u9663\u5b50\u6c92\u6709\u7dad\u8b77\u3002</p>"},{"location":"packages/#nlunlg","title":"NLU/NLG \u76f8\u95dc\u5957\u4ef6","text":"<p>\u5982\u524d\u6240\u8ff0\uff0c\u6211\u5011\u8a08\u756b\u4f7f\u7528\u76ee\u524d\u6d41\u884c\u7684 LLM \u4f86\u5be6\u4f5c NLU \u8207 NLG\u3002</p>"},{"location":"packages/#gemini","title":"Gemini","text":"<ul> <li>google_generative_ai\uff1aGoogle \u7684\u5b98\u65b9 Gemini \u5957\u4ef6\uff0c\u652f\u63f4\u5404\u7a2e\u5e73\u53f0\u3002</li> <li>flutter_gemini\uff1a\u53e6\u5916\u4e00\u5957 Gemini \u5be6\u4f5c</li> <li>gemini_flutter\uff1a\u53e6\u5916\u4e00\u5957 Gemini \u5be6\u4f5c</li> </ul>"},{"location":"packages/#gemma","title":"Gemma","text":"<ul> <li>flutter_gemma\uff1a\u53ef\u4ee5\u8b93 Flutter App \u4f7f\u7528 Gemma \u672c\u5730\u6a21\u578b\u7684\u5957\u4ef6\u3002</li> </ul>"},{"location":"packages/#chatgpt","title":"ChatGPT","text":"<p>\u7576\u7136\u4e5f\u6709\u4e0d\u5c11\u8207 ChatGPT \u6709\u95dc\u7684\u5957\u4ef6\u3002</p> <ul> <li>flutter_chatgpt_api</li> <li>chat_gpt_api</li> <li>chat_gpt_flutter</li> </ul>"},{"location":"vui_flow_design/","title":"\u8a2d\u8a08\u8a9e\u97f3\u4e92\u52d5\u6d41\u7a0b","text":"<p>\u5728\u900f\u904e NLU \u5f15\u64ce\u4e86\u89e3\u4f7f\u7528\u8005\u7684\u610f\u5716\u4e4b\u5f8c\uff0c\u6211\u5011\u5c31\u53ef\u4ee5\u958b\u59cb\u5617\u8a66\u9054\u6210\u5c0d\u61c9\u7684\u4efb\u52d9\u3002\u6211\u5011\u7684\u5c0d\u8a71\u5f15\u64ce\u5e73\u6642\u7dad\u6301\u4e00\u4efd\u610f\u5716\u8207\u6d41\u7a0b\u4e4b\u9593\u7684\u8868\u683c\uff0c\u6536\u5230\u610f\u5716\u4e4b\u5f8c\uff0c\u5c31\u5f9e\u8868\u683c\u4e2d\u53d6\u51fa\u9019\u6bb5\u6d41\u7a0b\u57f7\u884c\u3002</p>"},{"location":"vui_flow_design/#_2","title":"\u8a9e\u97f3\u6d41\u7a0b\u7684\u8f38\u5165\u8207\u8f38\u51fa","text":"<p>\u4e00\u6bb5\u8a9e\u97f3\u4e92\u52d5\u7684\u6d41\u7a0b\uff0c\u53ef\u80fd\u6703\u88ab\u7a31\u505a Dialog\uff0c\u5728\u82f1\u6587\u4e2d\uff0cDialog \u8207 Conversation \u7684\u610f\u7fa9\u4e0d\u592a\u4e00\u6a23\uff0c\u96d6\u7136\u5728\u4e2d\u6587\u4e2d\u90fd\u53eb\u505a\u5c0d\u8a71\uff0c\u4f46 Dialog \u66f4\u5177\u5099\u4e00\u7a2e\u4e8b\u5148\u5b89\u6392\u597d\uff0c\u662f\u5728\u5287\u672c\u7576\u4e2d\u5b89\u6392\u597d\u7684\u5169\u500b\u89d2\u8272\u4e4b\u9593\u7684\u8ac7\u8a71\uff0c\u6bd4\u8d77 Conversation\uff0c\u66f4\u8cbc\u8fd1\u8a9e\u97f3\u52a9\u7406\u8981\u5b8c\u6210\u4efb\u52d9\u7684\u904e\u7a0b\u3002\u4e5f\u53ef\u80fd\u7a31\u4f5c VUI flow\uff0cVUI \u662f Voice User Interface \u7684\u7e2e\u5beb\u3002\u4ee5\u4e0b\u6211\u5011\u7d71\u7a31 VUI flow\u3002</p> <p>\u4e00\u6bb5 VUI flow \u6703\u4ee5\u4e00\u500b\u610f\u5716\u958b\u59cb\uff0c\u5728\u8a2d\u8a08\u4e0a\uff0c\u6211\u5011\u5c31\u4e0d\u592a\u80fd\u5920\u8b93\u591a\u6bb5\u4e0d\u540c\u7684 VUI flow \u5c0d\u61c9\u5230\u540c\u4e00\u500b\u610f\u5716\u4e0a\uff0c\u800c\u662f\u4e00\u500b VUI flow\uff0c\u6703\u6839\u64da\u50b3\u5165\u7684 Slots \u4ee5\u53ca\u7576\u524d\u7684\u7cfb\u7d71\u72c0\u614b\uff0c\u8d70\u9032\u540c\u4e00\u500b VUI flow \u7684\u4e0d\u540c\u5206\u652f\u3002\u800c\u8981\u5b8c\u6210\u4efb\u52d9\uff0c\u5f80\u5f80\u6703\u9700\u8981\u4e00\u4e9b\u5fc5\u9808\u7684 Slot\uff0c\u50cf\u662f\u5c0e\u822a\u5c31\u6703\u9700\u8981\u77e5\u9053\u76ee\u7684\u5730\uff0c\u8a02\u9910\u5c31\u6703\u9700\u8981\u54c1\u9805\u8207\u6578\u91cf\u7b49\u3002</p> <p>\u540c\u6642\uff0c\u4e5f\u53ef\u80fd\u6703\u6709\u4e00\u4e9b\u975e\u5fc5\u8981\u7684 Slot\uff0c\u4f46\u6703\u6c7a\u5b9a\u6211\u5011\u5982\u4f55\u57f7\u884c\u4efb\u52d9\uff0c\u50cf\u662f\u5c0e\u822a\u7684\u8a9e\u97f3\u547d\u4ee4\u4e2d\uff0c\u53ef\u80fd\u6703\u591a\u51fa\u4e00\u500b\u9014\u7d93\u9ede\u6216\u662f\u8ff4\u907f\u9ede\u7684\u9078\u9805\uff0c\u4f7f\u7528\u8005\u53ef\u80fd\u6703\u8aaa\u300c\u5c0e\u822a\u5230\u53f0\u5317\u52d5\u7269\u5712\uff0c\u4e2d\u9014\u7d93\u904e\u52a0\u6cb9\u7ad9\uff0c\u4f46\u662f\u60f3\u8fa6\u6cd5\u907f\u958b\u585e\u8eca\u8def\u6bb5\uff0c\u4e0d\u8981\u8d70\u570b\u9053\u300d\u9019\u6a23\u8907\u96dc\u7684\u53e5\u5b50\u3002\u9047\u5230\u5fc5\u8981\u7684 Slot\uff0c\u6211\u5011\u5927\u6982\u5c31\u8981\u9032\u5165\u591a\u8f2a\u5c0d\u8a71\u8ffd\u554f\u4f7f\u7528\u8005\uff0c\u4e00\u6bb5 VUI flow\uff0c\u53ef\u8aaa\u5c31\u662f\u5728\u8490\u96c6\u5fc5\u8981\u7684 Slot \u7684\u904e\u7a0b\u3002</p> <p>\u4e4b\u5f8c\uff0c\u9019\u6bb5\u6d41\u7a0b\u5f80\u5f80\u9700\u8981\u77e5\u9053\u4e00\u4e9b\u5916\u90e8\u72c0\u614b\uff0c\u50cf\u662f\u57f7\u884c\u524d\u8ff0\u7684\u5c0e\u822a\u6d41\u7a0b\u6642\uff0c\u6211\u5011\u53ef\u80fd\u5c31\u6703\u60f3\u77e5\u9053\u76ee\u524d\u7cfb\u7d71\u662f\u5426\u5df2\u7d93\u5728\u5c0e\u822a\u4e2d\uff0c\u5411\u4f7f\u7528\u8005\u78ba\u8a8d\u662f\u5426\u9700\u8981\u505c\u6b62\u76ee\u524d\u7684\u5c0e\u822a\u5de5\u4f5c\uff0c\u5982\u679c\u78ba\u5b9a\u8981\u7d42\u6b62\u76ee\u524d\u7684\u5c0e\u822a\uff0c\u6211\u5011\u624d\u6703\u57f7\u884c\u65b0\u7684\u5c0e\u822a\u3002</p> <p>\u9019\u7a2e\u5411\u5916\u90e8\u8a62\u554f\u72c0\u614b\uff0c\u6216\u662f\u8981\u6c42\u5916\u90e8\u57f7\u884c\u5de5\u4f5c\u7684\u547c\u53eb\uff0c\u901a\u5e38\u53eb\u505a System Call\u3002\u9019\u4e9b System Call \u901a\u5e38\u4e5f\u662f\u8a9e\u97f3\u958b\u767c\u8005\u8207 App \u958b\u767c\u8005\u4e4b\u9593\u6e9d\u901a\u7684\u4ecb\u9762\uff0c\u8a9e\u97f3\u958b\u767c\u8005\u5c08\u6ce8\u5728 VUI flow \u7684\u8a2d\u8a08\u8207\u958b\u767c\uff0c\u4e0d\u7528\u95dc\u5fc3\u5be6\u969b\u4e0a\u5c0e\u822a\u9019\u90e8\u4efd\u7684\u7d30\u7bc0\uff0c\u800c App \u958b\u767c\u8005\u4e5f\u53ea\u8981\u5c08\u5fc3\u5728\u9019\u4e9b System Call \u7684\u5be6\u4f5c\u3002\u6700\u5f8c\uff0c\u7121\u8ad6\u6210\u529f\u6216\u5931\u6557\uff0c\u6211\u5011\u53ef\u4ee5\u56de\u61c9\u4f7f\u7528\u8005\u4e00\u6bb5 TTS\uff0c\u6700\u5f8c\u7d50\u675f\u5c0d\u8a71\u3002TTS \u53ef\u4ee5\u662f\u4e00\u6bb5\u56fa\u5b9a\u7684\u6587\u5b57\uff0c\u4e5f\u53ef\u4ee5\u4ea4\u7d66 NLG \u5f15\u64ce\u7522\u751f\uff0c\u53e6\u5916\uff0c\u4e5f\u53ef\u80fd\u7528\u4e00\u5c0f\u6bb5\u97f3\u6548\u2014\u50cf\u662f\u55f6\u55f6\u8072\u2014\u4ee3\u66ff\u3002</p> <p>\u6240\u4ee5\uff0c\u6211\u5011\u53ef\u4ee5\u5206\u6790\u51fa\uff0c\u4e00\u6bb5\u8a9e\u97f3\u4e92\u52d5\u6d41\u7a0b\uff0c\u6709\u8457\u4ee5\u4e0b\u7684\u8f38\u5165\u8207\u8f38\u51fa:</p> <p>\u8f38\u5165</p> <ul> <li>Intent</li> <li>Slots (\u5fc5\u8981\u8207\u975e\u5fc5\u8981)</li> <li>\u7372\u53d6\u5916\u90e8\u72c0\u614b\u7684 System Call</li> </ul> <p>\u8f38\u51fa</p> <ul> <li>\u57f7\u884c\u5de5\u4f5c\u7684 System Call</li> <li>TTS \u56de\u61c9\uff0c\u6216\u662f\u7528\u4e00\u4e9b\u66ff\u4ee3\u7684\u97f3\u6548</li> <li>\u8a72\u7d50\u675f\u5c0d\u8a71\uff0c\u9084\u662f\u8a72\u9032\u5165\u4e0b\u4e00\u8f2a\u5c0d\u8a71\uff0c\u800c\u4e0b\u4e00\u8f2a\u5c0d\u8a71\u8a72\u662f\u54ea\u500b VUI flow</li> </ul>"},{"location":"vui_flow_design/#vui-flow","title":"\u7e6a\u88fd VUI flow \u6d41\u7a0b\u5716","text":"<p>\u6839\u64da\u4e0a\u8ff0\u7684\u8f38\u5165\u8207\u8f38\u51fa\uff0c\u6211\u5011\u901a\u671d\u7528 UML \u7576\u4e2d\u7684 Activity Diagram\uff0c\u8868\u73fe\u5c0d\u8a71\u904e\u7a0b\u4e2d\u6703\u6709\u54ea\u4e9b\u5206\u652f\u3002\u4ee5\u4e0b\u4ee5\u4e0a\u8ff0\u7684\u5c0e\u822a\u6d41\u7a0b\u70ba\u4f8b\uff1a</p> <pre>c94ea9fa-d80e-42cb-a5eb-c5a302d04c1f</pre> <p>\u5728\u8a2d\u8a08\u4e00\u500b VUI flow \u6642\uff0c\u6211\u5011\u901a\u5e38\u4e5f\u6703\u9644\u4e0a\u5982\u4f55\u555f\u52d5\u9019\u500b\u6d41\u7a0b\u3001\u6eff\u8db3\u53ef\u4ee5\u8eca\u53d6\u51fa\u610f\u5716\u7684\u4f8b\u53e5\uff08Utterance\uff09\uff0c\u65b9\u4fbf\u65e5\u5f8c\u7684\u6e2c\u8a66\u4ee5\u53ca\u529f\u80fd\u9a57\u8b49\u3002\u50cf\u662f\uff1a</p> <ul> <li>\u958b\u59cb\u5c0e\u822a</li> <li>\u6211\u60f3\u8981\u53bb\u53f0\u5317\u52d5\u7269\u5712</li> <li>\u5e36\u6211\u53bb\u52d5\u7269\u5712\uff0c\u4e0d\u8981\u4e0a\u9ad8\u67b6\u6a4b\u2026</li> </ul> <p>\u5728\u4e0a\u5716\u4e2d\uff0c\u53ef\u4ee5\u6ce8\u610f\u5230\uff0c\u5176\u5be6\u9019\u5f35\u5716\u662f\u591a\u500b VUI flow \u7d44\u6210\u7684\uff0c\u4e2d\u9593\u6709\u4e00\u6bb5\u78ba\u8a8d\u662f\u5426\u8981\u7d42\u6b62\u5c0e\u822a\u7684\u6d41\u7a0b\uff0c\u5c31\u662f\u4ee5\u300c\u78ba\u8a8d\u300d\u3001\u300c\u53d6\u6d88\u300d\u7b49\u610f\u5716\uff0c\u958b\u555f\u4e00\u6bb5\u65b0\u7684 VUI flow\u3002</p> <p>\u9019\u500b\u6642\u5019\uff0c\u901a\u5e38\u6703\u9810\u671f\u53ea\u6703\u6536\u5230\u5728\u9650\u5236\u7bc4\u570d\u5167\u7684\u610f\u5716\uff0c\u4f46\u4f7f\u7528\u8005\u7684\u884c\u70ba\u53ef\u80fd\u5343\u5947\u767e\u602a\u2014\u8209\u53e6\u5916\u4e00\u500b\u4f8b\u5b50\uff0c\u5982\u679c\u662f\u4e00\u5957\u9ede\u9910\u7cfb\u7d71\uff0c\u7576\u4f7f\u7528\u8005\u8aaa\u300c\u6211\u8981\u9ede\u9910\u300d\u6642\uff0c\u6211\u5011\u53ef\u80fd\u6703\u56de\u61c9\u300c\u60a8\u60f3\u9ede\u4ec0\u9ebc\u300d\uff0c\u4e26\u4e14\u9810\u671f\u6536\u5230\u300c\u6211\u8981\u4e00\u7897\u725b\u8089\u9eb5\u300d\u9019\u6a23\u7684\u56de\u7b54\uff0c\u4f46\u4f7f\u7528\u8005\u53ef\u80fd\u6703\u8aaa\u300c\u6709\u4ec0\u9ebc\u53ef\u4ee5\u9ede\u7684\u300d\uff0c\u9019\u6642\u5019\u6211\u5011\u53ef\u80fd\u9078\u64c7\u56de\u8986\u300c\u6211\u5011\u4e0d\u7406\u89e3\u4f60\u7684\u610f\u5716\u300d\uff0c\u6216\u662f\u5fc5\u9808\u518d\u8a2d\u8a08\u4e00\u689d\u5206\u652f\uff0c\u5ff5\u51fa\u4e00\u4e9b\u71b1\u9580\u7684\u9910\u9ede\uff0c\u7136\u5f8c\u518d\u554f\u4e00\u6b21\u60f3\u9ede\u4ec0\u9ebc\u9910\u9ede\u3002\u6d41\u7a0b\u61c9\u8a72\u600e\u9ebc\u8a2d\u8a08\uff0c\u6700\u5f8c\u9084\u662f\u8981\u56de\u6b78\u4f7f\u7528\u8005\u5230\u5e95\u600e\u9ebc\u4f7f\u7528\uff0c\u4ee5\u53ca\u5718\u968a\u7684\u4f7f\u7528\u8005\u7814\u7a76\u7684\u7d50\u679c\u3002</p>"},{"location":"vui_flow_design/#vui-flow_1","title":"VUI flow \u7684\u4ecb\u9762","text":"<p>\u5728\u5be6\u969b\u9032\u5165\u64b0\u5beb VUI flow \u4e4b\u524d\uff0c\u6211\u5011\u5148\u8a2d\u8a08\u4e00\u500b\u5c6c\u65bc\u6240\u6709 VUI flow \u7684\u4ecb\u9762\u3002</p> <pre><code>abstract class VuiFlow {\n  Future&lt;void&gt; handle(NluIntent intent);\n\n  Future&lt;void&gt; cancel() async {\n    delegate = null;\n  }\n\n  VuiFlowDelegate? delegate;\n  String get intent =&gt; '';\n  List&lt;String&gt; get slots =&gt; [];\n  String? get additionalNluPrompt =&gt; null;\n}\n</code></pre> <p>\u9019\u500b\u4ecb\u9762\u5206\u6210\u4e09\u500b\u90e8\u5206\uff1a</p> <ul> <li>\u9019\u500b VUI flow \u5be6\u969b\u4e0a\u7684\u5de5\u4f5c\uff1a\u7576\u6211\u5011\u8981\u4f7f\u7528\u9019\u500b VUI flow \u6642\uff0c\u6703\u53bb\u547c\u53eb <code>handle</code> \u9019\u500b method</li> <li>\u9019\u500b VUI flow \u6240\u9700\u8981\u7684\u5916\u90e8\u76f8\u4f9d\uff1a\u96c6\u4e2d\u5728 delegate \u4e2d</li> <li>\u5176\u4ed6\u7684 metadata\uff1a\u5305\u62ec\u4ec0\u9ebc\u610f\u5716\u6703\u9032\u5165\u9019\u500b VUI flow\uff0c\u671f\u5f85\u6536\u5230\u54ea\u4e9b Slot\uff0c\u4ee5\u53ca\u662f\u5426\u9700\u8981\u984d\u5916\u7684 LLM Prompt \u5354\u52a9\u62bd\u53d6 Slot</li> </ul> <p>\u5728 delegate \u4e2d\uff0c\u6211\u5011\u5b9a\u7fa9\u4e86\u4e00\u500b VUI flow \u600e\u9ebc\u5728\u4e2d\u9014\u4f7f\u7528 TTS \u5f15\u64ce\u8207 NLG \u5f15\u64ce\uff0c\u800c\u5982\u679c\u4ed6\u9700\u8981\u9032\u5165\u53e6\u5916\u4e00\u8f2a\u7684\u5c0d\u8a71\uff0c\u53ef\u4ee5\u7528 <code>onSettingCurrentVuiFlow</code> \u6307\u5b9a\u4e0b\u4e00\u500b VUI flow \u662f\u4ec0\u9ebc\uff0c\u4e26\u4e14\u7528 <code>onStartingAsr</code> \u91cd\u65b0\u958b\u59cb ASR \u8b58\u5225\u3002\u53e6\u5916\uff0c\u5c31\u662f\u4e00\u500b\u7528\u4f86\u7d50\u675f\u5c0d\u8a71\u7684 <code>onEndingConversation</code>\u3002</p> <pre><code>abstract class VuiFlowDelegate {\n  Future&lt;void&gt; onPlayingPrompt(String prompt);\n  Future&lt;void&gt; onSettingCurrentVuiFlow(VuiFlow? vuiFlow);\n  Future&lt;void&gt; onStartingAsr();\n  Future&lt;void&gt; onEndingConversation();\n  Future&lt;String?&gt; onGeneratingResponse(String utterance,\n      {bool useDefaultPrompt = true});\n}\n</code></pre> <p>\u53e6\u5916\uff0c\u4f7f\u7528\u8005\u53ef\u80fd\u96a8\u6642\u53d6\u6d88\u76ee\u524d\u6b63\u5728\u9032\u884c\u4e2d\u7684 VUI flow\uff0c\u50cf\u662f\u5728\u57f7\u884c\u5230\u4e00\u534a\u7684\u6642\u5019\uff0c\u5c31\u6309\u4e0b\u9000\u51fa\u8a9e\u97f3\u52a9\u7406\u7684\u6309\u9215\uff0c\u4e0d\u4f46\u76f4\u63a5\u95dc\u9589 ASR \u8b58\u5225\u8207 TTS \u8a9e\u97f3\uff0c\u4e5f\u9700\u8981\u53d6\u6d88\u6b63\u5728 <code>handle</code> method \u4e2d\u57f7\u884c\u7684\u5de5\u4f5c\u3002\u5982\u679c\u8981\u505a\u5b8c\u6574\u7684\u53d6\u6d88\u7684\u8a71\uff0c\u90a3\u6bcf\u500b VUI flow \u4e2d\uff0c\u90fd\u9700\u8981\u4e00\u500b\u53eb\u505a cancelled \u7684\u8b8a\u6578\uff0c\u7576\u9019\u500b\u8b8a\u6578\u70ba true \u6642\uff0c<code>handle</code> \u88e1\u982d\u6bcf\u4e00\u884c\uff0c\u90fd\u8981\u6aa2\u67e5 cancelled \u662f\u4e0d\u662f\u5df2\u7d93\u8b8a\u6210 true\uff0c\u5982\u679c\u662f\uff0c\u5c31\u8981\u9000\u51fa\u3002</p> <p>\u5728\u9019\u908a\u5148\u7528\u4e86\u4e00\u500b\u5077\u61f6\u7684\u8fa6\u6cd5\uff1a\u53ea\u8981\u628a delegate \u8a2d\u6210 null \u4e4b\u5f8c\uff0c\u9019\u500b VUI flow \u5c31\u4e0d\u6703\u6709\u5c0d\u5916\u7684\u806f\u7e6b\u3002\u4e5f\u4e0d\u6703\u7e7c\u7e8c\u6709 ASR \u8b58\u5225\u8207 TTS \u8a9e\u97f3\uff0c\u4e0d\u904e <code>handle</code> \u5176\u5be6\u9084\u662f\u6703\u7e7c\u7e8c\u5f80\u4e0b\u57f7\u884c\u3002</p>"},{"location":"vui_flow_impl/","title":"\u5be6\u4f5c\u8a9e\u97f3\u4e92\u52d5\u6d41\u7a0b","text":"<p>\u6211\u5011\u73fe\u5728\u4f86\u8a2d\u8a08\u4e00\u500b\u500b\u4eba\u7528\u7684\u8a9e\u97f3\u52a9\u7406\uff0c\u53ef\u4ee5\u5728\u6211\u751f\u75c5\u5728\u5e8a\uff0c\u4e00\u9ede\u90fd\u4e0d\u60f3\u722c\u8d77\u5e8a\u7684\u6642\u5019\uff0c\u53ea\u8981\u7528\u7c21\u55ae\u7684\u8a9e\u97f3\u6307\u4ee4\uff0c\u5c31\u5beb\u51fa\u4e00\u7bc7\u6d0b\u6d0b\u7051\u7051\u7684\u5047\u55ae\uff0c\u7136\u5f8c\u7528 Teams \u50b3\u7d66\u8001\u95c6\u3002\u6211\u5011\u5148\u7c21\u55ae\u8a2d\u8a08\u9019\u500b\u52a9\u7406\u7684\u6d41\u7a0b\uff1a</p> <pre>517d5a47-e7f9-465a-89c0-50a176faedf8</pre>"},{"location":"vui_flow_impl/#metadata","title":"\u5b9a\u7fa9 Metadata","text":"<p>\u6211\u5011\u9996\u5148\u7e7c\u627f VuiFlow\uff0c\u5beb\u4e00\u500b\u81ea\u5df1\u7684 <code>LeaveApplicationVuiFlow</code>\u3002\u7531\u65bc\u6211\u5011\u5e0c\u671b NLU \u5f15\u64ce\u5e6b\u6211\u5011\u62bd\u53d6\u51fa <code>LeaveApplication</code> \u9019\u500b\u8acb\u5047\u610f\u5716\uff0c\u4ee5\u53ca <code>Reason</code> \u8207 <code>Date</code> \u5169\u500b Slots\uff0c\u6240\u4ee5\u6211\u5011\u8981\u5be6\u4f5c <code>intent</code> \u8207 <code>slots</code> \u9019\u5169\u500b\u5c6c\u6027\u3002</p> <pre><code>class LeaveApplicationVuiFlow extends VuiFlow {\n  @override\n  String get intent =&gt; 'LeaveApplication';\n\n  @override\n  List&lt;String&gt; get slots =&gt; ['Reason', 'Date'];\n}\n</code></pre>"},{"location":"vui_flow_impl/#slot","title":"\u4fdd\u7559\u5fc5\u8981\u7684 Slot","text":"<p>\u6211\u5011\u5df2\u7d93\u9810\u671f\u9700\u8981\u900f\u904e\u591a\u8f2a\u5c0d\u8a71\uff0c\u53d6\u5f97\u65e5\u671f\u8207\u4e8b\u7531\uff0c\u6240\u4ee5\u6211\u5011\u7528 date \u8207 reason \u9019\u5169\u500b\u8b8a\u6578\u4f86\u4fdd\u7559\u9019\u5169\u500b Slot \u7684\u503c\u3002\u7136\u5f8c\uff0c\u6211\u5011\u5e0c\u671b\u9019\u500b\u591a\u8f2a\u5c0d\u8a71\u6709\u500b\u4e0a\u9650\uff0c\u7576\u5c0d\u8a71\u9032\u884c\u4e86\u597d\u5e7e\u6b21\uff0c\u90fd\u6c92\u8fa6\u6cd5\u53d6\u5f97\u65e5\u671f\u8207\u4e8b\u7531\u6642\uff0c\u5c31\u7d50\u675f\u5c0d\u8a71\uff0c\u56e0\u6b64\uff0c\u6211\u5011\u52a0\u4e86\u4e00\u500b\u53eb\u505a errorCount \u7684\u8b8a\u6578\uff0c\u4fdd\u5b58\u5931\u6557\u7684\u6b21\u6578\u3002</p> <pre><code>  String? date;\n  String? reason;\n  var errorCount = 0;\n</code></pre>"},{"location":"vui_flow_impl/#slot_1","title":"\u5be6\u4f5c\u53d6\u5f97\u5fc5\u8981\u7684 Slot \u7684\u6d41\u7a0b","text":"<p>\u6211\u5011\u73fe\u5728\u8981\u4f86\u958b\u59cb\u5be6\u4f5c <code>handle</code> method\uff1a</p> <pre><code>  @override\n  Future&lt;void&gt; handle(NluIntent intent) async {\n    Future&lt;void&gt; handleMaxError() async {\n      await delegate?.onSettingCurrentVuiFlow(null);\n      await delegate?.onPlayingPrompt('\u5f88\u62b1\u6b49\uff0c\u932f\u8aa4\u6b21\u6578\u592a\u591a');\n      await delegate?.onEndingConversation();\n    }\n\n    var date = intent.slots['Date'] ?? this.date;\n    var reason = intent.slots['Reason'] ?? this.reason;\n    var errorCount = this.errorCount;\n    if (date == null || reason == null) {\n      final prompt = () {\n        if (date == null &amp;&amp; reason == null) {\n          return '\u8acb\u554f\u60a8\u8981\u8acb\u5047\u7684\u65e5\u671f\u8207\u4e8b\u7531\uff1f';\n        }\n        if (date == null) {\n          return '\u8acb\u554f\u60a8\u8981\u8acb\u5047\u7684\u65e5\u671f\uff1f';\n        }\n        if (reason == null) {\n          return '\u8acb\u554f\u60a8\u8981\u8acb\u5047\u7684\u4e8b\u7531\uff1f';\n        }\n        return '';\n      }();\n\n      errorCount += 1;\n      if (errorCount &gt;= _maxErrorCount) {\n        await handleMaxError();\n        return;\n      }\n      await delegate?.onPlayingPrompt(prompt);\n      await Future.delayed(const Duration(microseconds: 500));\n      final vuiFlow = LeaveApplicationVuiFlow(\n          onMakingLeaveApplication: onMakingLeaveApplication)\n        ..date = date\n        ..reason = reason\n        ..errorCount = errorCount;\n      await delegate?.onSettingCurrentVuiFlow(vuiFlow);\n      await delegate?.onStartingAsr();\n      return;\n    }\n    .....\n  }\n</code></pre> <p>\u5728\u9019\u4e00\u90e8\u5206\uff0c\u6211\u5011\u9996\u5148\u78ba\u8a8d\uff0c\u662f\u4e0d\u662f\u5728 intent \u4e2d\uff0c\u4ee5\u53ca\u5728 LeaveApplication \u7269\u4ef6\u4e0a\uff0c\u5df2\u7d93\u6709\u4e86 date \u8207 errorCount \u52a0\u4e00\uff0c\u6578\u91cf\u5230\u4e86\u4e00\u5b9a\u7a0b\u5ea6\u5f8c\uff0c\u5c31\u8d70\u5165 <code>handleMaxError</code>\u3002\u4e0d\u7136\uff0c\u5c31\u628a LeaveApplicationVuiFlow \u62f7\u8c9d\u4e00\u4efd\uff08\u5148\u5ffd\u7565 onMakingLeaveApplication\uff09\uff0c\u7136\u5f8c\u628a\u73fe\u5728\u7684 date\u3001reason \u8207 errorCount \u8907\u88fd\u4e0a\u53bb\uff0c\u7136\u5f8c\u544a\u8a34 delegate\uff0c\u9019\u5c31\u662f\u4e0b\u4e00\u8f2a\u5c0d\u8a71\u4f7f\u7528\u7684 VUI flow\uff0c\u6536\u5230\u4efb\u4f55\u610f\u5716\u5c31\u8981\u50b3\u5230\u9019\u500b VUI flow\uff0c\u7136\u5f8c\u91cd\u65b0\u958b\u59cb ASR \u8b58\u5225\u3002</p>"},{"location":"vui_flow_impl/#nlg","title":"\u4f7f\u7528 NLG \u5f15\u64ce","text":"<pre><code>    final promptForApplication =\n        '\u5e6b\u6211\u5beb\u4e00\u4efd\u95dc\u65bc\u6211\u8981\u8acb\u5047\u7684\u77ed\u6587\uff0c\u8a9e\u6c23\u56b4\u8b39\u800c\u4e14\u79ae\u8c8c\uff0c\u5927\u91cf\u4f7f\u7528\u6210\u8a9e\uff0c\u4e26\u4e14\u5f15\u7528\u5510\u8a69\uff0c\u5167\u5bb9\u5927\u7d04\u5169\u767e\u4e2d\u6587\u5b57\uff0c\u4e0d\u5206\u6bb5'\n        '\uff0c\u8acb\u5047\u65e5\u671f\u662f $date, \u4e8b\u7531\u662f $reason\u3002\u4e0d\u8981\u554f\u6211\u5176\u4ed6\u984d\u5916\u7684\u554f\u984c\uff0c\u50cf\u662f\u59d3\u540d\u8077\u4f4d\u7b49\uff0c\u4e5f\u4e0d\u8981\u51fa\u73fe emoji\u3002';\n    final text = await delegate?.onGeneratingResponse(\n          promptForApplication,\n          useDefaultPrompt: false,\n        ) ??\n        '';\n    final promptForReply =\n        \"\u5982\u679c\u4e00\u500b\u4eba\u767c\u751f\u4e86 $reason \u7684\u72c0\u6cc1\uff0c\u4f60\u6703\u600e\u9ebc\u795d\u4ed6\u9806\u5229\u5462\uff1f\u53ea\u8981\u4e00\u53e5\u8a71\u5c31\u597d\u4e86\uff0c\u4e0d\u8981\u51fa\u73fe emoji\u3002\";\n    final greet = await delegate?.onGeneratingResponse(\n          promptForReply,\n          useDefaultPrompt: false,\n        ) ??\n        '';\n    await delegate?.onSettingCurrentVuiFlow(null);\n    final result = await onMakingLeaveApplication(reason, date, text);\n    if (result) {\n      await delegate?.onPlayingPrompt('\u597d\u7684\uff0c\u6b63\u5728\u5e6b\u60a8\u8acb\u5047\uff01$greet');\n    } else {\n      await delegate?.onPlayingPrompt('\u5f88\u62b1\u6b49\uff0c\u7121\u6cd5\u5e6b\u4f60\u8acb\u5047\uff01\u4f46\u6211\u60f3\u544a\u8a34\u4f60\uff0c$greet');\n    }\n    await Future.delayed(const Duration(microseconds: 500));\n    await delegate?.onEndingConversation();\n</code></pre>"},{"location":"vui_flow_impl/#system-call","title":"\u8a2d\u8a08 System Call","text":"<p>\u524d\u9762\u6240\u51fa\u73fe\u7684 <code>onMakingLeaveApplication</code>\uff0c\u5c31\u662f\u9019\u500b VUI flow \u7528\u4f86\u547c\u53eb\u5916\u90e8\u7684 System Call\uff0c\u6240\u4ee5\u6211\u5011\u53ea\u8981\u518d\u9019\u500b class \u7576\u4e2d\u5b9a\u7fa9\u4e00\u500b\u533f\u540d\u51fd\u5f0f</p> <pre><code>class LeaveApplicationVuiFlow extends VuiFlow {\n  Future&lt;bool&gt; Function(\n    String reason,\n    String date,\n    String text,\n  ) onMakingLeaveApplication;\n\n  LeaveApplicationVuiFlow({required this.onMakingLeaveApplication});\n  ...\n}\n</code></pre>"},{"location":"vui_flow_impl/#_2","title":"\u55ae\u5143\u6e2c\u8a66","text":"<p>\u8981\u5c0d\u524d\u9762\u7684\u5be6\u4f5c\u9032\u884c\u55ae\u5143\u6e2c\u8a66\uff0c\u9996\u5148\u6211\u5011 mock \u4e00\u500b <code>VuiFlowDelegate</code>\uff0c\u5728\u9019\u500b mock \u4e2d\u8a2d\u7f6e\u597d\u4e00\u4e9b\u7279\u5b9a\u7684\u689d\u4ef6\uff0c\u50cf\u662f\u6211\u5011\u5047\u8a2d NLG \u5f15\u64ce\u6703\u6709\u54ea\u4e9b\u56de\u8986\uff0c\u4ee5\u53ca\u6703\u4fdd\u5b58\u6700\u5f8c\u4e00\u6b21 TTS \u7684\u5167\u5bb9\uff0c\u6216\u662f\u6703\u4fdd\u5b58\u6700\u5f8c\u4e00\u6b21\u7684 VuiFlow \u662f\u4ec0\u9ebc\u3002</p> <pre><code>class LeaveApplicationMockDelegate extends VuiFlowDelegate {\n  final completer = Completer();\n\n  @override\n  Future&lt;void&gt; onEndingConversation() async {\n    completer.complete();\n  }\n\n  @override\n  Future&lt;String?&gt; onGeneratingResponse(String utterance,\n      {bool useDefaultPrompt = true}) async {\n    if (utterance.startsWith('\u5e6b\u6211\u5beb\u4e00\u4efd\u95dc\u65bc\u6211\u8981\u8acb\u5047\u7684\u77ed\u6587')) {\n      return '\u6211\u8981\u8acb\u5047';\n    } else if (utterance.startsWith('\u5982\u679c\u4e00\u500b\u4eba\u767c\u751f\u4e86')) {\n      return '\u795d\u4f60\u65e9\u65e5\u5eb7\u5fa9';\n    }\n    return '';\n  }\n\n  String? lastPrompt;\n\n  @override\n  Future&lt;void&gt; onPlayingPrompt(String prompt) async {\n    lastPrompt = prompt;\n  }\n\n  VuiFlow? currentVuiFlow;\n\n  @override\n  Future&lt;void&gt; onSettingCurrentVuiFlow(VuiFlow? vuiFlow) async {\n    currentVuiFlow = vuiFlow;\n  }\n\n  @override\n  Future&lt;void&gt; onStartingAsr() async {}\n}\n</code></pre> <p>\u63a5\u8457\u5c31\u53ef\u4ee5\u5beb\u6e2c\u8a66\u4e86\uff1a</p> <pre><code>  test('Test Leave Application VUI flow - with slots', () async {\n    final delegate = LeaveApplicationMockDelegate();\n    var systemCallCalled = false;\n    final vuiFlow = LeaveApplicationVuiFlow(\n        onMakingLeaveApplication: (reason, date, text) async {\n      expect(reason, '\u751f\u75c5');\n      expect(date, '\u4eca\u5929');\n      expect(text, '\u6211\u8981\u8acb\u5047');\n      systemCallCalled = true;\n      return true;\n    })\n      ..delegate = delegate;\n    final intent = NluIntent(\n        intent: 'LeaveApplication', slots: {'Reason': '\u751f\u75c5', 'Date': '\u4eca\u5929'});\n    vuiFlow.handle(intent);\n    await delegate.completer.future;\n    expect(systemCallCalled, isTrue);\n    expect(delegate.lastPrompt, isNotNull);\n    expect(delegate.lastPrompt?.contains('\u795d\u4f60\u65e9\u65e5\u5eb7\u5fa9'), isTrue);\n  });\n</code></pre> <p>\u9019\u500b test case \u4e2d\uff0c\u6211\u5011\u53ea\u6e2c\u8a66\u4e86\u4e00\u7a2e\u72c0\u6cc1\uff0c\u5c31\u662f\u4f7f\u7528\u8005\u4e00\u958b\u59cb\u5c31\u8aaa\u6e05\u695a\u4e86\u8acb\u5047\u7684\u4e8b\u7531\u8207\u65e5\u671f\uff0c\u7136\u5f8c\u770b\u770b\u6700\u5f8c\u7684 TTS \u5c0d\u4e0d\u5c0d\uff0c\u4ee5\u53ca\u6700\u5f8c\u8acb\u5047\u7528\u7684 System Call \u662f\u5426\u88ab\u547c\u53eb\u4e86\u3002\u5be6\u52d9\u4e0a\uff0c\u9019\u6a23\u7684\u6e2c\u8a66\u53ea\u8003\u616e\u7684\u4e00\u500b\u60c5\u5883\uff0c\u6c92\u6709\u8003\u616e\u5c11\u4e86\u67d0\u500b slot \uff0c\u6216\u662f\u4e00\u958b\u59cb\u5c31\u5df2\u7d93\u5728\u4e0a\u4e00\u8f2a\u5c0d\u8a71\u4e2d\u5f97\u5230\u4e86 slot \u7684\u72c0\u6cc1\uff0c\u9084\u9700\u8981\u66f4\u591a\u7684 case \u624d\u80fd\u5b8c\u5168\u8986\u84cb\u2014\u2014\u5728\u9019\u4e9b case \u4e2d\uff0c\u5247\u9700\u8981 assert \u662f\u5426\u63d0\u4f9b\u4e86\u7528\u505a\u4e0b\u4e00\u8f2a\u5c0d\u8a71\u7684 VuiFlow \u7269\u4ef6\uff0c\u4f46\u662f\u56e0\u70ba\u7bc7\u5e45\u7684\u95dc\u4fc2\uff0c\u4e0d\u5728\u6b64\u8d05\u8ff0\u3002</p>"},{"location":"vui_flow_impl/#system-call_1","title":"\u5be6\u969b\u4f7f\u7528 System Call","text":"<p>\u524d\u9762\u63d0\u5230\uff0c\u6211\u5011\u60f3\u628a\u9019\u4efd\u6587\u60c5\u4e26\u8302\u7684\u5047\u55ae\uff0c\u9001\u5230\u8001\u95c6\u7684 Teams \u4e0a\uff0c\u6211\u5011\u53bb\u67e5\u4e86\u5fae\u8edf\u7684\u6587\u4ef6\uff0c\u767c\u73fe\u53ea\u8981\u900f\u904e\u7279\u5b9a\u7684 URL<sup>1</sup>\uff0c\u5c31\u53ef\u4ee5\u958b\u555f\u65b0\u7684\u5c0d\u8a71\uff0c\u6240\u4ee5\u6211\u5011\u4e5f\u53ef\u4ee5\u5c0f\u6bb5\u7528\u4f86\u958b\u555f\u9019\u500b URL \u7684\u7a0b\u5f0f\uff1a</p> <pre><code>class TeamsHelper {\n  /// See https://learn.microsoft.com/en-us/microsoftteams/platform/concepts/build-and-test/deep-link-teams#deep-link-to-start-a-new-chat\u0153\n  static sendMessage({\n    required String user,\n    required String topicName,\n    required String message,\n  }) {\n    final encodedUser = Uri.encodeComponent(user);\n    final encodedTopicName = Uri.encodeComponent(topicName);\n    final encodedMessage = Uri.encodeComponent(message);\n\n    final url = Uri.parse(\"https://teams.microsoft.com/l/chat/0/0?\"\n        \"users=$encodedUser&amp;\"\n        \"topicName=$encodedTopicName&amp;\"\n        \"message=$encodedMessage\");\n    launchUrl(url,\n        // mode: LaunchMode.externalApplication\n    );\n  }\n}\n</code></pre> <p>\u7136\u5f8c\u5728\u5efa\u7acb LeaveApplicationVuiFlow \u7684\u6642\u5019\uff0c\u50b3\u5165\u6211\u5011\u7684\u5be6\u4f5c</p> <pre><code>  LeaveApplicationVuiFlow(\n        onMakingLeaveApplication: (reason, date, text) async {\n      TeamsHelper.sendMessage(\n        user: \"myboss@mycompany.com\",\n        topicName: \"Leave Application\",\n        message: text,\n      );\n\n      return true;\n    })\n</code></pre> <p>\u6211\u5011\u53ef\u4ee5\u4f86\u770b\u770b Gemini \u5e6b\u6211\u5011\u7522\u751f\u4e86\u54ea\u4e9b\u7cbe\u5f69\u7684\u8acb\u5047\u4e8b\u7531\uff1a</p> <p></p> <ol> <li> <p>https://learn.microsoft.com/en-us/microsoftteams/platform/concepts/build-and-test/deep-link-teams#deep-link-to-start-a-new-chat\u00a0\u21a9</p> </li> </ol>"}]}